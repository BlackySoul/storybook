"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[8976],{"./src/components/FocusTrap/FocusTrap.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{i:function(){return FocusTrap}});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_hooks_useExternRef__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/hooks/useExternRef.ts"),_hooks_useGlobalEventListener__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/hooks/useGlobalEventListener.ts"),_hooks_useTimeout__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/hooks/useTimeout.ts"),_lib_accessibility__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/lib/accessibility.ts"),_lib_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/lib/dom.tsx"),_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts"),_AppRoot_AppRootContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/AppRoot/AppRootContext.ts"),_excluded=["Component","onClose","restoreFocus","timeout","getRootRef","children"],FOCUSABLE_ELEMENTS=_lib_accessibility__WEBPACK_IMPORTED_MODULE_1__.xA.join(),FocusTrap=function FocusTrap(_ref){var _ref$Component=_ref.Component,Component=void 0===_ref$Component?"div":_ref$Component,onClose=_ref.onClose,_ref$restoreFocus=_ref.restoreFocus,restoreFocus=void 0===_ref$restoreFocus||_ref$restoreFocus,_ref$timeout=_ref.timeout,timeout=void 0===_ref$timeout?0:_ref$timeout,getRootRef=_ref.getRootRef,children=_ref.children,restProps=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded),ref=(0,_hooks_useExternRef__WEBPACK_IMPORTED_MODULE_3__.Q)(getRootRef),_useDOM=(0,_lib_dom__WEBPACK_IMPORTED_MODULE_4__.NG)(),document=_useDOM.document,window=_useDOM.window,_React$useState=react__WEBPACK_IMPORTED_MODULE_0__.useState(null),_React$useState2=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__.Z)(_React$useState,2),focusableNodes=_React$useState2[0],setFocusableNodes=_React$useState2[1],_React$useState3=react__WEBPACK_IMPORTED_MODULE_0__.useState(null),_React$useState4=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__.Z)(_React$useState3,2),restoreFocusTo=_React$useState4[0],setRestoreFocusTo=_React$useState4[1],keyboardInput=react__WEBPACK_IMPORTED_MODULE_0__.useContext(_AppRoot_AppRootContext__WEBPACK_IMPORTED_MODULE_6__.A).keyboardInput,focusOnTrapMount=(0,_hooks_useTimeout__WEBPACK_IMPORTED_MODULE_7__.K)((function(){var _ref$current;!keyboardInput||null!==(_ref$current=ref.current)&&void 0!==_ref$current&&_ref$current.contains(document.activeElement)||null==focusableNodes||!focusableNodes.length||focusableNodes[0].focus()}),timeout);(0,_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_8__.L)((function(){focusOnTrapMount.set()}),[]),(0,_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_8__.L)((function(){if(ref.current){var nodes=[];Array.prototype.forEach.call(ref.current.querySelectorAll(FOCUSABLE_ELEMENTS),(function(focusableEl){var _getComputedStyle=window.getComputedStyle(focusableEl),display=_getComputedStyle.display,visibility=_getComputedStyle.visibility;"none"!==display&&"hidden"!==visibility&&nodes.push(focusableEl)})),0===nodes.length&&nodes.push(ref.current),setFocusableNodes(nodes)}}),[children]);var focusOnTrapUnmount=(0,_hooks_useTimeout__WEBPACK_IMPORTED_MODULE_7__.K)((function(){restoreFocusTo&&restoreFocusTo.focus()}),timeout);(0,_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_8__.L)((function(){if(restoreFocus&&document.activeElement)return setRestoreFocusTo(document.activeElement),function(){focusOnTrapUnmount.set()}}),[restoreFocus]);return(0,_hooks_useGlobalEventListener__WEBPACK_IMPORTED_MODULE_9__.J)(document,"keydown",(function onDocumentKeydown(e){if((0,_lib_accessibility__WEBPACK_IMPORTED_MODULE_1__.Vk)(e)===_lib_accessibility__WEBPACK_IMPORTED_MODULE_1__.R8.TAB&&null!=focusableNodes&&focusableNodes.length){var lastIdx=focusableNodes.length-1,targetIdx=focusableNodes.findIndex((function(node){return node===e.target})),shouldFocusFirstNode=-1===targetIdx||targetIdx===lastIdx&&!e.shiftKey;if(shouldFocusFirstNode||0===targetIdx&&e.shiftKey){e.preventDefault();var node=focusableNodes[shouldFocusFirstNode?0:lastIdx];return node!==document.activeElement&&node.focus(),!1}}return onClose&&(0,_lib_accessibility__WEBPACK_IMPORTED_MODULE_1__.Vk)(e)===_lib_accessibility__WEBPACK_IMPORTED_MODULE_1__.R8.ESCAPE&&onClose(),!0}),{capture:!0}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_10__.Z)({tabIndex:-1,ref:ref},restProps),children)};try{FocusTrap.displayName="FocusTrap",FocusTrap.__docgenInfo={description:"",displayName:"FocusTrap",props:{restoreFocus:{defaultValue:{value:"true"},description:"",name:"restoreFocus",required:!1,type:{name:"boolean"}},timeout:{defaultValue:{value:"0"},description:"",name:"timeout",required:!1,type:{name:"number"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},Component:{defaultValue:{value:"div"},description:"",name:"Component",required:!1,type:{name:"ElementType<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FocusTrap/FocusTrap.tsx#FocusTrap"]={docgenInfo:FocusTrap.__docgenInfo,name:"FocusTrap",path:"src/components/FocusTrap/FocusTrap.tsx#FocusTrap"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ModalDismissButton/ModalDismissButton.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{t:function(){return ModalDismissButton}});var esm_extends=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("../../node_modules/react/index.js"),es6=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),cancel=(0,__webpack_require__("../../node_modules/@vkontakte/icons/dist/es6/SvgIcon.js").D)("Icon20Cancel","cancel_20","0 0 20 20",'<symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="cancel_20"><path clip-rule="evenodd" d="M4.72 4.72a.75.75 0 0 1 1.06 0L10 8.94l4.22-4.22a.75.75 0 1 1 1.06 1.06L11.06 10l4.22 4.22a.75.75 0 1 1-1.06 1.06L10 11.06l-4.22 4.22a.75.75 0 0 1-1.06-1.06L8.94 10 4.72 5.78a.75.75 0 0 1 0-1.06z" fill="currentColor" fill-rule="evenodd" /></symbol>',20,20,!1,void 0),Tappable=__webpack_require__("./src/components/Tappable/Tappable.tsx"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),ModalDismissButton_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[10].use[2]!./src/components/ModalDismissButton/ModalDismissButton.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ModalDismissButton_module.Z,options);var ModalDismissButton_ModalDismissButton_module=ModalDismissButton_module.Z&&ModalDismissButton_module.Z.locals?ModalDismissButton_module.Z.locals:void 0,_excluded=["aria-label","className"],ModalDismissButton=function ModalDismissButton(_ref){var _ref$ariaLabel=_ref["aria-label"],ariaLabel=void 0===_ref$ariaLabel?"Закрыть":_ref$ariaLabel,className=_ref.className,restProps=(0,objectWithoutProperties.Z)(_ref,_excluded);return react.createElement(Tappable.KR,(0,esm_extends.Z)({className:(0,es6.AK)(ModalDismissButton_ModalDismissButton_module.ModalDismissButton,className)},restProps,{"aria-label":ariaLabel,activeMode:ModalDismissButton_ModalDismissButton_module["ModalDismissButton--active"],hoverMode:ModalDismissButton_ModalDismissButton_module["ModalDismissButton--hover"]}),react.createElement(cancel,null))};try{ModalDismissButton.displayName="ModalDismissButton",ModalDismissButton.__docgenInfo={description:"",displayName:"ModalDismissButton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalDismissButton/ModalDismissButton.tsx#ModalDismissButton"]={docgenInfo:ModalDismissButton.__docgenInfo,name:"ModalDismissButton",path:"src/components/ModalDismissButton/ModalDismissButton.tsx#ModalDismissButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ModalRoot/ModalRootAdaptive.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Y:function(){return ModalRoot}});var react=__webpack_require__("../../node_modules/react/index.js"),objectSpread2=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),classCallCheck=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/createClass.js");function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var esm_typeof=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/typeof.js");function _possibleConstructorReturn(self,call){if(call&&("object"===(0,esm_typeof.Z)(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}var defineProperty=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),Touch=__webpack_require__("./src/components/Touch/Touch.tsx"),TouchContext=__webpack_require__("./src/components/Touch/TouchContext.ts"),es6=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js");var touch=__webpack_require__("./src/lib/touch.ts"),platform=__webpack_require__("./src/lib/platform.ts"),supportEvents=__webpack_require__("./src/lib/supportEvents.ts"),esm_extends=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),ConfigProviderContext=__webpack_require__("./src/components/ConfigProvider/ConfigProviderContext.tsx");function withPlatform(Component){return function WithPlatform(props){var platform=(0,ConfigProviderContext.F3)().platform;return react.createElement(Component,(0,esm_extends.Z)({},props,{platform:platform}))}}try{withPlatform.displayName="withPlatform",withPlatform.__docgenInfo={description:"",displayName:"withPlatform",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hoc/withPlatform.tsx#withPlatform"]={docgenInfo:withPlatform.__docgenInfo,name:"withPlatform",path:"src/hoc/withPlatform.tsx#withPlatform"})}catch(__react_docgen_typescript_loader_error){}function withContext(Component,Ctx,prop){return function WithContext(props){var context=react.useContext(Ctx);return react.createElement(Component,(0,esm_extends.Z)({},props,(0,defineProperty.Z)({},prop,context)))}}var ModalRootContext=__webpack_require__("./src/components/ModalRoot/ModalRootContext.tsx"),types=__webpack_require__("./src/components/ModalRoot/types.ts"),dom=__webpack_require__("./src/lib/dom.tsx"),getNavId=__webpack_require__("./src/lib/getNavId.ts"),warnOnce=__webpack_require__("./src/lib/warnOnce.ts"),FocusTrap=__webpack_require__("./src/components/FocusTrap/FocusTrap.tsx"),slicedToArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),toConsumableArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),useIsomorphicLayoutEffect=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts");function getModals(children){return react.Children.toArray(children)}var warn=(0,warnOnce.O)("ModalRoot");function modalTransitionReducer(state,action){if("setActive"===action.type&&action.id!==state.activeModal){var nextModal=action.id,prevModal=state.exitingModal||state.activeModal,history=state.history?(0,toConsumableArray.Z)(state.history):[],isBack=Boolean(nextModal&&history.includes(nextModal));return null===nextModal?history=[]:isBack?history=history.splice(0,history.indexOf(nextModal)+1):history.push(nextModal),{activeModal:nextModal,enteringModal:null,exitingModal:prevModal,history:history,isBack:isBack}}return"entered"===action.type&&action.id===state.enteringModal?(0,objectSpread2.Z)((0,objectSpread2.Z)({},state),{},{enteringModal:null}):"exited"===action.type&&action.id===state.exitingModal?(0,objectSpread2.Z)((0,objectSpread2.Z)({},state),{},{exitingModal:null}):"inited"===action.type&&action.id===state.activeModal?(0,objectSpread2.Z)((0,objectSpread2.Z)({},state),{},{enteringModal:action.id}):state}function useModalManager(activeModal,children){var onOpen=arguments.length>2&&void 0!==arguments[2]?arguments[2]:es6.ZT,onOpened=arguments.length>3&&void 0!==arguments[3]?arguments[3]:es6.ZT,onClose=arguments.length>4&&void 0!==arguments[4]?arguments[4]:es6.ZT,onClosed=arguments.length>5&&void 0!==arguments[5]?arguments[5]:es6.ZT,initModal=arguments.length>6&&void 0!==arguments[6]?arguments[6]:es6.ZT,modalsState=react.useRef({}).current;getModals(children).forEach((function(Modal){var modalProps=Modal.props,id=(0,getNavId.o)(modalProps,warn),state=void 0!==id&&modalsState[id]||{id:null!=id?id:null};state.onOpen=Modal.props.onOpen,state.onOpened=Modal.props.onOpened,state.onClose=Modal.props.onClose,state.onClosed=Modal.props.onClosed,state.dynamicContentHeight=!!modalProps.dynamicContentHeight,"number"==typeof modalProps.settlingHeight&&(state.settlingHeight=modalProps.settlingHeight),null!==state.id&&(modalsState[state.id]=state)}));var isMissing=activeModal&&!modalsState[activeModal],safeActiveModal=isMissing?null:activeModal,_React$useReducer=react.useReducer(modalTransitionReducer,{activeModal:safeActiveModal,enteringModal:null,exitingModal:null,history:safeActiveModal?[safeActiveModal]:[],isBack:!1}),_React$useReducer2=(0,slicedToArray.Z)(_React$useReducer,2),transitionState=_React$useReducer2[0],dispatchTransition=_React$useReducer2[1];(0,useIsomorphicLayoutEffect.L)((function(){dispatchTransition({type:"setActive",id:null!=safeActiveModal?safeActiveModal:null})}),[activeModal]),(0,useIsomorphicLayoutEffect.L)((function(){transitionState.activeModal&&(initModal(modalsState[transitionState.activeModal]),dispatchTransition({type:"inited",id:transitionState.activeModal}))}),[transitionState.activeModal]);var isCard=function isCard(id){var _modalsState$id;return null!=id&&(null===(_modalsState$id=modalsState[id])||void 0===_modalsState$id?void 0:_modalsState$id.type)===types.w.CARD},onEntered=react.useCallback((function(id){if(id){var modalState=modalsState[id];(0,es6.mf)(modalState.onOpened)?modalState.onOpened():(0,es6.mf)(onOpened)&&onOpened(id)}dispatchTransition({type:"entered",id:id})}),[modalsState,onOpened]),onExited=react.useCallback((function(id){if(id){var modalState=modalsState[id];(0,es6.mf)(modalState.onClosed)?modalState.onClosed():(0,es6.mf)(onClosed)&&onClosed(id)}dispatchTransition({type:"exited",id:id})}),[modalsState,onClosed]),delayEnter=Boolean(transitionState.exitingModal&&(isCard(activeModal)||isCard(transitionState.exitingModal))),getModalState=react.useCallback((function(id){return modalsState[id]}),[modalsState]);function onEnter(){var modalState=transitionState.activeModal&&modalsState[transitionState.activeModal];modalState&&((0,es6.mf)(modalState.onOpen)?modalState.onOpen():(0,es6.mf)(onOpen)&&onOpen(modalState.id))}function onExit(){var modalState=transitionState.activeModal&&modalsState[transitionState.activeModal];modalState&&((0,es6.mf)(modalState.onClose)?modalState.onClose():(0,es6.mf)(onClose)&&onClose(modalState.id))}return(0,objectSpread2.Z)((0,objectSpread2.Z)({onEnter:onEnter,onEntered:onEntered,onExit:onExit,onExited:onExited},transitionState),{},{delayEnter:delayEnter,getModalState:getModalState})}function withModalManager(){var initModal=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es6.ZT;return function(Wrapped){return function WithModalManager(props){var transitionManager=useModalManager(props.activeModal,props.children,props.onOpen,props.onOpened,props.onClose,props.onClosed,initModal);return react.createElement(Wrapped,(0,esm_extends.Z)({},props,transitionManager))}}}try{useModalManager.displayName="useModalManager",useModalManager.__docgenInfo={description:"Реализует переход модалок. При смене activeModal m1 -> m2:\n1. activeModal: m1, exitingModal: null, enteringModal: null, триггер перехода\n2. activeModal: m2, exitingModal: m1, enteringModal: null, рендерим m2 чтобы прошел init, начинаем анимацию выхода\nодновременный переход между ModalPage:\n  3a. activeModal: m2, exitingModal: m1, enteringModal: m2\n  4a. exitingModal и enteringModal переходят в null в порядке завершения анимации\nИЛИ дожидаемся скрытия ModalCard\n  3b. activeModal: m2, exitingModal: null, enteringModal: m2\n  4b. enteringModal переходит в null после завершения анимации\n5. activeModal: m2, exitingModal: null, enteringModal: null, переход закончен",displayName:"useModalManager",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/useModalManager.tsx#useModalManager"]={docgenInfo:useModalManager.__docgenInfo,name:"useModalManager",path:"src/components/ModalRoot/useModalManager.tsx#useModalManager"})}catch(__react_docgen_typescript_loader_error){}try{withModalManager.displayName="withModalManager",withModalManager.__docgenInfo={description:"",displayName:"withModalManager",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/useModalManager.tsx#withModalManager"]={docgenInfo:withModalManager.__docgenInfo,name:"withModalManager",path:"src/components/ModalRoot/useModalManager.tsx#withModalManager"})}catch(__react_docgen_typescript_loader_error){}var math=__webpack_require__("./src/helpers/math.ts"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),ModalRoot_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[10].use[2]!./src/components/ModalRoot/ModalRoot.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ModalRoot_module.Z,options);var ModalRoot_ModalRoot_module=ModalRoot_module.Z&&ModalRoot_module.Z.locals?ModalRoot_module.Z.locals:void 0,_excluded=["id"],ModalRoot_warn=(0,warnOnce.O)("ModalRoot");function numberInRange(number,range){return!!range&&(number>=range[0]&&number<=range[1])}function rangeTranslate(number){return(0,math.uZ)(number,0,98)}var ModalRootTouchComponent=function(_React$Component){_inherits(ModalRootTouchComponent,_React$Component);var _super=_createSuper(ModalRootTouchComponent);function ModalRootTouchComponent(props){var _this;return(0,classCallCheck.Z)(this,ModalRootTouchComponent),_this=_super.call(this,props),(0,defineProperty.Z)(_assertThisInitialized(_this),"documentScrolling",!1),(0,defineProperty.Z)(_assertThisInitialized(_this),"maskElementRef",void 0),(0,defineProperty.Z)(_assertThisInitialized(_this),"viewportRef",react.createRef()),(0,defineProperty.Z)(_assertThisInitialized(_this),"maskAnimationFrame",void 0),(0,defineProperty.Z)(_assertThisInitialized(_this),"modalRootContext",void 0),(0,defineProperty.Z)(_assertThisInitialized(_this),"frameIds",void 0),(0,defineProperty.Z)(_assertThisInitialized(_this),"restoreFocusTo",void 0),(0,defineProperty.Z)(_assertThisInitialized(_this),"preventTouch",(function(event){if(!event)return!1;for(;event.originalEvent;)event=event.originalEvent;return event.preventDefault&&event.preventDefault(),!1})),(0,defineProperty.Z)(_assertThisInitialized(_this),"updateModalTranslate",(function(){var modalState=_this.getModalState(_this.props.activeModal);modalState&&_this.animateTranslate(modalState,modalState.translateY)})),(0,defineProperty.Z)(_assertThisInitialized(_this),"updateModalHeight",(function(){var modalState=_this.getModalState(_this.props.activeModal);modalState&&modalState.type===types.w.PAGE&&modalState.dynamicContentHeight&&(_this.props.enteringModal?_this.waitTransitionFinish(modalState,(function(){requestAnimationFrame((function(){return _this.checkPageContentHeight()}))})):requestAnimationFrame((function(){return _this.checkPageContentHeight()})))})),(0,defineProperty.Z)(_assertThisInitialized(_this),"onTouchMove",(function(e){if(!_this.props.exitingModal){var modalState=_this.getModalState(_this.props.activeModal);if(modalState)return modalState.type===types.w.PAGE?_this.onPageTouchMove(e,modalState):modalState.type===types.w.CARD?_this.onCardTouchMove(e,modalState):void 0}})),(0,defineProperty.Z)(_assertThisInitialized(_this),"onTouchEnd",(function(e){var modalState=_this.getModalState(_this.props.activeModal);return(null==modalState?void 0:modalState.type)===types.w.PAGE?_this.onPageTouchEnd(e,modalState):(null==modalState?void 0:modalState.type)===types.w.CARD?_this.onCardTouchEnd(e,modalState):void 0})),(0,defineProperty.Z)(_assertThisInitialized(_this),"onScroll",(function(e){var _modalState$contentEl,activeModal=_this.props.activeModal,target=e.target;if(activeModal){var modalState=_this.getModalState(activeModal);(null==modalState?void 0:modalState.type)===types.w.PAGE&&null!=modalState&&null!==(_modalState$contentEl=modalState.contentElement)&&void 0!==_modalState$contentEl&&_modalState$contentEl.contains(target)&&(modalState.contentScrolled=!0,modalState.contentScrollStopTimeout&&clearTimeout(modalState.contentScrollStopTimeout),modalState.contentScrollStopTimeout=setTimeout((function(){modalState.contentScrolled&&(modalState.contentScrolled=!1)}),250))}})),_this.state={touchDown:!1,dragging:!1},_this.maskElementRef=react.createRef(),_this.modalRootContext={updateModalHeight:_this.updateModalHeight,registerModal:function registerModal(_ref){var _this$getModalState,id=_ref.id,data=(0,objectWithoutProperties.Z)(_ref,_excluded);return Object.assign(null!==(_this$getModalState=_this.getModalState(id))&&void 0!==_this$getModalState?_this$getModalState:{},data)},onClose:function onClose(){return _this.props.onExit()},isInsideModal:!0},_this.frameIds={},_this}return(0,createClass.Z)(ModalRootTouchComponent,[{key:"timeout",get:function get(){return this.props.platform===platform.t.IOS?400:320}},{key:"document",get:function get(){return this.props.document}},{key:"window",get:function get(){return this.props.window}},{key:"getModalState",value:function getModalState(id){if(id)return this.props.getModalState(id)}},{key:"getModals",value:function getModals(){return react.Children.toArray(this.props.children)}},{key:"componentDidMount",value:function componentDidMount(){var _this$window;this.props.platform===platform.t.IOS&&(null===(_this$window=this.window)||void 0===_this$window||_this$window.addEventListener("resize",this.updateModalTranslate,!1))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.toggleDocumentScrolling(!0),this.window.removeEventListener("resize",this.updateModalTranslate,!1)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this2=this;if(this.props.exitingModal&&this.props.exitingModal!==prevProps.exitingModal&&this.closeModal(this.props.exitingModal),this.props.enteringModal&&this.props.enteringModal!==prevProps.enteringModal){var enteringModal=this.props.enteringModal,enteringState=this.getModalState(enteringModal);this.props.onEnter(),this.waitTransitionFinish(enteringState,(function(){null!=enteringState&&enteringState.innerElement&&(enteringState.innerElement.style.transitionDelay=""),_this2.props.onEntered(enteringModal)})),null!=enteringState&&enteringState.innerElement&&(enteringState.innerElement.style.transitionDelay=this.props.delayEnter?"".concat(this.timeout,"ms"):"",this.animateTranslate(enteringState,enteringState.translateY))}this.props.activeModal&&!prevProps.activeModal&&(this.restoreFocusTo=this.document.activeElement),this.props.activeModal||this.props.exitingModal||!this.restoreFocusTo||(this.restoreFocusTo.focus(),this.restoreFocusTo=null),this.toggleDocumentScrolling(!this.props.activeModal&&!this.props.exitingModal)}},{key:"toggleDocumentScrolling",value:function toggleDocumentScrolling(enabled){this.documentScrolling!==enabled&&(this.documentScrolling=enabled,enabled?this.window.removeEventListener("touchmove",this.preventTouch,{passive:!1}):this.window.addEventListener("touchmove",this.preventTouch,{passive:!1}))}},{key:"checkPageContentHeight",value:function checkPageContentHeight(){var modalState=this.getModalState(this.props.activeModal);if((null==modalState?void 0:modalState.type)===types.w.PAGE&&null!=modalState&&modalState.modalElement){var prevModalState=(0,objectSpread2.Z)({},modalState);initPageModal(modalState);var currentModalState=(0,objectSpread2.Z)({},modalState),needAnimate=!1;prevModalState.expandable===currentModalState.expandable?prevModalState.translateYFrom!==currentModalState.translateYFrom&&(needAnimate=!0):needAnimate=!0,needAnimate&&this.animateTranslate(modalState,modalState.translateY)}}},{key:"closeModal",value:function closeModal(id){var _prevModalState$trans,_nextModalState$trans,_nextModalState$trans2,_this3=this;this.setState({touchDown:!1});var prevModalState=this.getModalState(id);if(prevModalState){var nextModalState=this.getModalState(this.props.activeModal),nextIsPage=!!nextModalState&&nextModalState.type===types.w.PAGE,prevIsPage=!!prevModalState&&prevModalState.type===types.w.PAGE;this.waitTransitionFinish(prevModalState,(function(){return _this3.props.onExited(id)}));var exitTranslate=prevIsPage&&nextIsPage&&(null!==(_prevModalState$trans=prevModalState.translateY)&&void 0!==_prevModalState$trans?_prevModalState$trans:0)<=(null!==(_nextModalState$trans=null==nextModalState?void 0:nextModalState.translateYFrom)&&void 0!==_nextModalState$trans?_nextModalState$trans:0)&&!this.props.isBack?(null!==(_nextModalState$trans2=null==nextModalState?void 0:nextModalState.translateYFrom)&&void 0!==_nextModalState$trans2?_nextModalState$trans2:0)+10:100;this.animateTranslate(prevModalState,exitTranslate),nextModalState||this.setMaskOpacity(prevModalState,0)}else id&&ModalRoot_warn("closeActiveModal: модальное окно (страница) ".concat(id," не существует"),"error")}},{key:"onPageTouchMove",value:function onPageTouchMove(event,modalState){var _modalState$innerElem,_modalState$headerEle,shiftY=event.shiftY,originalEvent=event.originalEvent,target=originalEvent.target;if(event.isY){if(null===(_modalState$innerElem=modalState.innerElement)||void 0===_modalState$innerElem||!_modalState$innerElem.contains(target))return originalEvent.preventDefault();originalEvent.stopPropagation();var _modalState$contentEl2,_modalState$contentEl3,expandable=modalState.expandable,contentScrolled=modalState.contentScrolled,collapsed=modalState.collapsed,expanded=modalState.expanded;if(!this.state.touchDown)modalState.touchStartContentScrollTop=null!==(_modalState$contentEl2=null===(_modalState$contentEl3=modalState.contentElement)||void 0===_modalState$contentEl3?void 0:_modalState$contentEl3.scrollTop)&&void 0!==_modalState$contentEl2?_modalState$contentEl2:0,this.setState({touchDown:!0});if(!contentScrolled&&(null===modalState.touchMovePositive&&(modalState.touchMovePositive=shiftY>0),!modalState.expandable||collapsed||expanded&&modalState.touchMovePositive&&0===modalState.touchStartContentScrollTop||null!==(_modalState$headerEle=modalState.headerElement)&&void 0!==_modalState$headerEle&&_modalState$headerEle.contains(target))){var _modalState$translate;if(originalEvent.preventDefault(),!expandable&&shiftY<0||!this.window)return;!this.state.dragging&&this.setState({dragging:!0});var shiftYPercent=shiftY/this.window.innerHeight*100,shiftYCurrent=(0,touch.Dc)(shiftYPercent,72,.8,this.props.platform!==platform.t.IOS);modalState.touchShiftYPercent=shiftYPercent,modalState.translateYCurrent=rangeTranslate((null!==(_modalState$translate=modalState.translateY)&&void 0!==_modalState$translate?_modalState$translate:0)+shiftYCurrent),this.animateTranslate(modalState,modalState.translateYCurrent),this.setMaskOpacity(modalState)}}else{var _this$viewportRef$cur;null!==(_this$viewportRef$cur=this.viewportRef.current)&&void 0!==_this$viewportRef$cur&&_this$viewportRef$cur.contains(target)&&originalEvent.preventDefault()}}},{key:"onCardTouchMove",value:function onCardTouchMove(event,modalState){var _modalState$innerElem2,originalEvent=event.originalEvent,shiftY=event.shiftY,target=originalEvent.target;if(null!==(_modalState$innerElem2=modalState.innerElement)&&void 0!==_modalState$innerElem2&&_modalState$innerElem2.contains(target)){var _modalState$translate2;this.state.touchDown||this.setState({touchDown:!0,dragging:!0});var shiftYPercent=shiftY/modalState.innerElement.offsetHeight*100,shiftYCurrent=(0,touch.Dc)(shiftYPercent,72,1.2,this.props.platform!==platform.t.IOS);modalState.touchShiftYPercent=shiftYPercent,modalState.translateYCurrent=Math.max(0,(null!==(_modalState$translate2=modalState.translateY)&&void 0!==_modalState$translate2?_modalState$translate2:0)+shiftYCurrent),this.animateTranslate(modalState,modalState.translateYCurrent),this.setMaskOpacity(modalState)}}},{key:"onPageTouchEnd",value:function onPageTouchEnd(event,modalState){var setStateCallback,_this4=this,startY=event.startY,shiftY=event.shiftY;if(modalState.contentScrolled=!1,modalState.touchMovePositive=null,this.state.dragging&&this.window){var _modalState$translate3,_modalState$touchShif,_modalState$expandedR,_modalState$expandedR2,shiftYEndPercent=(startY+shiftY)/this.window.innerHeight*100,translateY=null!==(_modalState$translate3=modalState.translateYCurrent)&&void 0!==_modalState$translate3?_modalState$translate3:0;if(translateY=rangeTranslate(translateY+translateY/event.duration*240*.6*((null!==(_modalState$touchShif=modalState.touchShiftYPercent)&&void 0!==_modalState$touchShif?_modalState$touchShif:0)<0?-1:1)),100!==modalState.settlingHeight)if(numberInRange(translateY,modalState.expandedRange))translateY=null!==(_modalState$expandedR=null===(_modalState$expandedR2=modalState.expandedRange)||void 0===_modalState$expandedR2?void 0:_modalState$expandedR2[0])&&void 0!==_modalState$expandedR?_modalState$expandedR:0;else if(numberInRange(translateY,modalState.collapsedRange)){var _modalState$translate4;translateY=null!==(_modalState$translate4=modalState.translateYFrom)&&void 0!==_modalState$translate4?_modalState$translate4:0}else if(numberInRange(translateY,modalState.hiddenRange))translateY=100;else{var _modalState$translate5;translateY=null!==(_modalState$translate5=modalState.translateYFrom)&&void 0!==_modalState$translate5?_modalState$translate5:0}else translateY=numberInRange(translateY,[0,25])?0:100;100!==translateY&&shiftYEndPercent>=75&&(translateY=100),modalState.translateY=translateY,modalState.translateYCurrent=translateY,modalState.collapsed=translateY>0&&translateY<shiftYEndPercent,modalState.expanded=0===translateY,modalState.hidden=100===translateY,modalState.hidden&&this.props.onExit(),setStateCallback=function setStateCallback(){modalState.hidden||_this4.animateTranslate(modalState,modalState.translateY),_this4.setMaskOpacity(modalState)}}this.setState({touchDown:!1,dragging:!1},setStateCallback)}},{key:"onCardTouchEnd",value:function onCardTouchEnd(_ref2,modalState){var setStateCallback,_this5=this,duration=_ref2.duration;if(this.state.dragging){var _modalState$translate6,_modalState$touchShif2,translateY=null!==(_modalState$translate6=modalState.translateYCurrent)&&void 0!==_modalState$translate6?_modalState$translate6:0,expectTranslateY=translateY/duration*240*.6*((null!==(_modalState$touchShif2=modalState.touchShiftYPercent)&&void 0!==_modalState$touchShif2?_modalState$touchShif2:0)<0?-1:1);translateY=(translateY=Math.max(0,translateY+expectTranslateY))>=30?100:0,modalState.translateY=translateY,modalState.hidden=100===translateY,modalState.hidden&&this.props.onExit(),setStateCallback=function setStateCallback(){modalState.hidden||_this5.animateTranslate(modalState,modalState.translateY),_this5.setMaskOpacity(modalState)}}this.setState({touchDown:!1,dragging:!1},setStateCallback)}},{key:"waitTransitionFinish",value:function waitTransitionFinish(modalState,eventHandler){if(supportEvents.g.supported){var _modalState$innerElem4;null==modalState||null===(_modalState$innerElem4=modalState.innerElement)||void 0===_modalState$innerElem4||_modalState$innerElem4.addEventListener(supportEvents.g.name,(function onceHandler(){var _modalState$innerElem3;null==modalState||null===(_modalState$innerElem3=modalState.innerElement)||void 0===_modalState$innerElem3||_modalState$innerElem3.removeEventListener(supportEvents.g.name,onceHandler),eventHandler()}))}else setTimeout(eventHandler,this.timeout)}},{key:"animateTranslate",value:function animateTranslate(modalState,percent){var frameId="animateTranslateFrame".concat(modalState.id);cancelAnimationFrame(this.frameIds[frameId]),this.frameIds[frameId]=requestAnimationFrame((function(){!function setTransformStyle(element,transform){element&&(element.style.transform=transform,element.style.webkitTransform=transform)}(modalState.innerElement,"translate3d(0, ".concat(percent,"%, 0)"))}))}},{key:"setMaskOpacity",value:function setMaskOpacity(modalState){var _this$props$history,_this6=this,forceOpacity=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===forceOpacity&&(null===(_this$props$history=this.props.history)||void 0===_this$props$history?void 0:_this$props$history[0])!==modalState.id||(this.maskAnimationFrame&&cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame((function(){if(_this6.maskElementRef.current){var _modalState$translate7=modalState.translateY,translateY=void 0===_modalState$translate7?0:_modalState$translate7,_modalState$translate8=modalState.translateYCurrent,opacity=null===forceOpacity?1-((void 0===_modalState$translate8?0:_modalState$translate8)-translateY)/(100-translateY)||0:forceOpacity;_this6.maskElementRef.current.style.opacity=(0,math.uZ)(opacity,0,100).toString()}})))}},{key:"render",value:function render(){var _this$props$configPro,_this7=this,_this$props=this.props,activeModal=_this$props.activeModal,exitingModal=_this$props.exitingModal,enteringModal=_this$props.enteringModal,_this$state=this.state,touchDown=_this$state.touchDown,dragging=_this$state.dragging;return activeModal||exitingModal?react.createElement(TouchContext.Z.Provider,{value:!0},react.createElement(ModalRootContext.E.Provider,{value:this.modalRootContext},react.createElement(Touch.X,{className:(0,es6.AK)(ModalRoot_ModalRoot_module.ModalRoot,(null===(_this$props$configPro=this.props.configProvider)||void 0===_this$props$configPro?void 0:_this$props$configPro.webviewType)===ConfigProviderContext.Uv.VKAPPS&&ModalRoot_ModalRoot_module["ModalRoot--vkapps"],touchDown&&ModalRoot_ModalRoot_module["ModalRoot--touched"],!(!enteringModal&&!exitingModal)&&ModalRoot_ModalRoot_module["ModalRoot--switching"]),onMove:this.onTouchMove,onEnd:this.onTouchEnd,onScroll:this.onScroll},react.createElement("div",{className:ModalRoot_ModalRoot_module.ModalRoot__mask,onClick:this.props.onExit,ref:this.maskElementRef}),react.createElement("div",{className:ModalRoot_ModalRoot_module.ModalRoot__viewport,ref:this.viewportRef},this.getModals().map((function(Modal){var modalId=(0,getNavId.o)(Modal.props,ModalRoot_warn),_modalState=_this7.getModalState(modalId);if(modalId!==activeModal&&modalId!==exitingModal||!_modalState)return null;var modalState=(0,objectSpread2.Z)({},_modalState),isPage=modalState.type===types.w.PAGE,key="modal-".concat(modalId);return react.createElement(FocusTrap.i,{key:key,getRootRef:function getRootRef(e){var modalState=_this7.getModalState(modalId);modalState&&(modalState.modalElement=e)},onClose:_this7.props.onExit,timeout:_this7.timeout,className:(0,es6.AK)(ModalRoot_ModalRoot_module.ModalRoot__modal,dragging&&ModalRoot_ModalRoot_module["ModalRoot__modal--dragging"],isPage&&modalState.expandable&&ModalRoot_ModalRoot_module["ModalRoot__modal--expandable"],isPage&&modalState.collapsed&&ModalRoot_ModalRoot_module["ModalRoot__modal--collapsed"]),restoreFocus:!1},Modal)})))))):null}}]),ModalRootTouchComponent}(react.Component),ModalRootTouch=withContext(withPlatform((0,dom.N3)(withModalManager((function initModal(modalState){switch(modalState.type){case types.w.PAGE:return modalState.settlingHeight=modalState.settlingHeight||75,initPageModal(modalState);case types.w.CARD:return function initCardModal(modalState){modalState.translateY=0}(modalState)}}))(ModalRootTouchComponent))),ConfigProviderContext.qp,"configProvider");function initPageModal(modalState){var _contentElement$clien,contentElement=modalState.contentElement,contentHeight=(null==contentElement?void 0:contentElement.firstElementChild).offsetHeight,prevTranslateY=modalState.translateY;modalState.expandable=contentHeight>(null!==(_contentElement$clien=null==contentElement?void 0:contentElement.clientHeight)&&void 0!==_contentElement$clien?_contentElement$clien:0)||100===modalState.settlingHeight;var translateYFrom,translateY,expandedRange,collapsedRange,hiddenRange,collapsed=!1,expanded=!1;if(modalState.expandable){var _modalState$settlingH,shiftHalf=(translateYFrom=100-(null!==(_modalState$settlingH=modalState.settlingHeight)&&void 0!==_modalState$settlingH?_modalState$settlingH:0))/2,visiblePart=100-translateYFrom;expandedRange=[0,shiftHalf],collapsedRange=[shiftHalf,translateYFrom+visiblePart/4],hiddenRange=[translateYFrom+visiblePart/4,100],collapsed=translateYFrom>0,expanded=translateYFrom<=0,translateY=translateYFrom}else{var _modalState$headerEle2,_modalState$headerEle3,_modalState$innerElem5,_modalState$innerElem6,_modalState$innerElem7;expandedRange=[translateY=translateYFrom=100-(contentHeight+(null!==(_modalState$headerEle2=null===(_modalState$headerEle3=modalState.headerElement)||void 0===_modalState$headerEle3?void 0:_modalState$headerEle3.offsetHeight)&&void 0!==_modalState$headerEle2?_modalState$headerEle2:0))/(null!==(_modalState$innerElem5=null===(_modalState$innerElem6=modalState.innerElement)||void 0===_modalState$innerElem6||null===(_modalState$innerElem7=_modalState$innerElem6.parentElement)||void 0===_modalState$innerElem7?void 0:_modalState$innerElem7.offsetHeight)&&void 0!==_modalState$innerElem5?_modalState$innerElem5:0)*100,translateY+25],collapsedRange=[translateY+25,translateY+25],hiddenRange=[translateY+25,translateY+100]}(modalState.expandable&&translateY>(null!=prevTranslateY?prevTranslateY:100)||100===modalState.settlingHeight)&&(translateY=0),0===translateY&&(expanded=!0,collapsed=!1),modalState.expandedRange=expandedRange,modalState.collapsedRange=collapsedRange,modalState.hiddenRange=hiddenRange,modalState.translateY=translateY,modalState.translateYFrom=translateYFrom,modalState.collapsed=collapsed,modalState.expanded=expanded}try{ModalRootTouch.displayName="ModalRootTouch",ModalRootTouch.__docgenInfo={description:"",displayName:"ModalRootTouch",props:{onClose:{defaultValue:null,description:"Будет вызвано при начале закрытия активной модалки с её id",name:"onClose",required:!1,type:{name:"((modalId: string) => void)"}},onOpen:{defaultValue:null,description:"Будет вызвано при начале открытия активной модалки с её id",name:"onOpen",required:!1,type:{name:"((modalId: string) => void)"}},activeModal:{defaultValue:null,description:"",name:"activeModal",required:!1,type:{name:"string | null"}},onOpened:{defaultValue:null,description:"Будет вызвано при окончательном открытии активной модалки с её id",name:"onOpened",required:!1,type:{name:"((modalId: string) => void)"}},onClosed:{defaultValue:null,description:"Будет вызвано при окончательном закрытии активной модалки с её id",name:"onClosed",required:!1,type:{name:"((modalId: string) => void)"}},configProvider:{defaultValue:null,description:"@ignore",name:"configProvider",required:!1,type:{name:"ConfigProviderContextInterface"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/ModalRoot.tsx#ModalRootTouch"]={docgenInfo:ModalRootTouch.__docgenInfo,name:"ModalRootTouch",path:"src/components/ModalRoot/ModalRoot.tsx#ModalRootTouch"})}catch(__react_docgen_typescript_loader_error){}var ModalRootDesktop_excluded=["id"],ModalRootDesktop_warn=(0,warnOnce.O)("ModalRoot"),ModalRootDesktopComponent=function(_React$Component){_inherits(ModalRootDesktopComponent,_React$Component);var _super=_createSuper(ModalRootDesktopComponent);function ModalRootDesktopComponent(props){var _this;return(0,classCallCheck.Z)(this,ModalRootDesktopComponent),_this=_super.call(this,props),(0,defineProperty.Z)(_assertThisInitialized(_this),"maskElementRef",void 0),(0,defineProperty.Z)(_assertThisInitialized(_this),"maskAnimationFrame",void 0),(0,defineProperty.Z)(_assertThisInitialized(_this),"modalRootContext",void 0),(0,defineProperty.Z)(_assertThisInitialized(_this),"restoreFocusTo",void 0),_this.maskElementRef=react.createRef(),_this.modalRootContext={updateModalHeight:function updateModalHeight(){},registerModal:function registerModal(_ref){var _this$getModalState,id=_ref.id,data=(0,objectWithoutProperties.Z)(_ref,ModalRootDesktop_excluded);return Object.assign(null!==(_this$getModalState=_this.getModalState(id))&&void 0!==_this$getModalState?_this$getModalState:{},data)},onClose:function onClose(){return _this.props.onExit()},isInsideModal:!0},_this}return(0,createClass.Z)(ModalRootDesktopComponent,[{key:"timeout",get:function get(){return this.props.platform===platform.t.IOS?400:320}},{key:"modals",get:function get(){return react.Children.toArray(this.props.children)}},{key:"getModalState",value:function getModalState(id){if(null!==id)return this.props.getModalState(id)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this$props$document$,_this$props$document;(this.props.exitingModal&&this.props.exitingModal!==prevProps.exitingModal&&this.closeModal(this.props.exitingModal),this.props.enteringModal&&this.props.enteringModal!==prevProps.enteringModal&&this.openModal(prevProps),this.props.activeModal&&!prevProps.activeModal)&&(this.restoreFocusTo=null!==(_this$props$document$=null===(_this$props$document=this.props.document)||void 0===_this$props$document?void 0:_this$props$document.activeElement)&&void 0!==_this$props$document$?_this$props$document$:void 0);this.props.activeModal||this.props.exitingModal||!this.restoreFocusTo||(this.restoreFocusTo.focus(),this.restoreFocusTo=void 0)}},{key:"openModal",value:function openModal(prevProps){var _this2=this,enteringModal=this.props.enteringModal;if(enteringModal){var enteringState=this.getModalState(enteringModal);this.props.onEnter(),prevProps.exitingModal?(null!=enteringState&&enteringState.innerElement&&(enteringState.innerElement.style.transition="none",enteringState.innerElement.style.opacity="1"),this.props.onEntered(enteringModal)):requestAnimationFrame((function(){_this2.props.enteringModal===enteringModal&&(_this2.waitTransitionFinish(enteringState,(function(){return _this2.props.onEntered(enteringModal)})),_this2.animateModalOpacity(enteringState,!0))}))}}},{key:"closeModal",value:function closeModal(id){var _this3=this,prevModalState=this.getModalState(id);prevModalState&&(this.props.activeModal?this.props.onExited(id):requestAnimationFrame((function(){_this3.waitTransitionFinish(prevModalState,(function(){return _this3.props.onExited(id)})),_this3.animateModalOpacity(prevModalState,!1),_this3.setMaskOpacity(prevModalState,0)})))}},{key:"waitTransitionFinish",value:function waitTransitionFinish(modalState,eventHandler){if(supportEvents.g.supported){var _modalState$innerElem2;null==modalState||null===(_modalState$innerElem2=modalState.innerElement)||void 0===_modalState$innerElem2||_modalState$innerElem2.addEventListener(supportEvents.g.name,(function onceHandler(){var _modalState$innerElem;null==modalState||null===(_modalState$innerElem=modalState.innerElement)||void 0===_modalState$innerElem||_modalState$innerElem.removeEventListener(supportEvents.g.name,onceHandler),eventHandler()}))}else setTimeout(eventHandler,this.timeout)}},{key:"animateModalOpacity",value:function animateModalOpacity(modalState,display){null!=modalState&&modalState.innerElement&&(modalState.innerElement.style.transition="",modalState.innerElement.style.transitionDelay=display&&this.props.delayEnter?"".concat(this.timeout,"ms"):"",modalState.innerElement.style.opacity=display?"1":"0")}},{key:"setMaskOpacity",value:function setMaskOpacity(modalState){var _this$props$history,_this4=this,forceOpacity=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===forceOpacity&&(null===(_this$props$history=this.props.history)||void 0===_this$props$history?void 0:_this$props$history[0])!==modalState.id||(this.maskAnimationFrame&&cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame((function(){if(_this4.maskElementRef.current){var _modalState$translate=modalState.translateY,translateY=void 0===_modalState$translate?0:_modalState$translate,_modalState$translate2=modalState.translateYCurrent,opacity=null===forceOpacity?1-((void 0===_modalState$translate2?0:_modalState$translate2)-translateY)/(100-translateY)||0:forceOpacity;_this4.maskElementRef.current.style.opacity=(0,math.uZ)(opacity,0,100).toString()}})))}},{key:"render",value:function render(){var _this$props$configPro,_this5=this,_this$props=this.props,exitingModal=_this$props.exitingModal,activeModal=_this$props.activeModal;return activeModal||exitingModal?react.createElement(ModalRootContext.E.Provider,{value:this.modalRootContext},react.createElement("div",{className:(0,es6.AK)(ModalRoot_ModalRoot_module.ModalRoot,(null===(_this$props$configPro=this.props.configProvider)||void 0===_this$props$configPro?void 0:_this$props$configPro.webviewType)===ConfigProviderContext.Uv.VKAPPS&&ModalRoot_ModalRoot_module["ModalRoot--vkapps"],ModalRoot_ModalRoot_module["ModalRoot--desktop"])},react.createElement("div",{className:ModalRoot_ModalRoot_module.ModalRoot__mask,ref:this.maskElementRef,onClick:this.props.onExit}),react.createElement("div",{className:ModalRoot_ModalRoot_module.ModalRoot__viewport},this.modals.map((function(Modal){var modalId=(0,getNavId.o)(Modal.props,ModalRootDesktop_warn);if(modalId!==activeModal&&modalId!==exitingModal)return null;var key="modal-".concat(modalId);return react.createElement(FocusTrap.i,{restoreFocus:!1,onClose:_this5.props.onExit,timeout:_this5.timeout,key:key,className:ModalRoot_ModalRoot_module.ModalRoot__modal},Modal)}))))):null}}]),ModalRootDesktopComponent}(react.Component),ModalRootDesktop=withContext(withPlatform((0,dom.N3)(withModalManager()(ModalRootDesktopComponent))),ConfigProviderContext.qp,"configProvider");try{ModalRootDesktop.displayName="ModalRootDesktop",ModalRootDesktop.__docgenInfo={description:"",displayName:"ModalRootDesktop",props:{onClose:{defaultValue:null,description:"Будет вызвано при начале закрытия активной модалки с её id",name:"onClose",required:!1,type:{name:"((modalId: string) => void)"}},onOpen:{defaultValue:null,description:"Будет вызвано при начале открытия активной модалки с её id",name:"onOpen",required:!1,type:{name:"((modalId: string) => void)"}},activeModal:{defaultValue:null,description:"",name:"activeModal",required:!1,type:{name:"string | null"}},onOpened:{defaultValue:null,description:"Будет вызвано при окончательном открытии активной модалки с её id",name:"onOpened",required:!1,type:{name:"((modalId: string) => void)"}},onClosed:{defaultValue:null,description:"Будет вызвано при окончательном закрытии активной модалки с её id",name:"onClosed",required:!1,type:{name:"((modalId: string) => void)"}},configProvider:{defaultValue:null,description:"@ignore",name:"configProvider",required:!1,type:{name:"ConfigProviderContextInterface"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/ModalRootDesktop.tsx#ModalRootDesktop"]={docgenInfo:ModalRootDesktop.__docgenInfo,name:"ModalRootDesktop",path:"src/components/ModalRoot/ModalRootDesktop.tsx#ModalRootDesktop"})}catch(__react_docgen_typescript_loader_error){}var ScrollContext=__webpack_require__("./src/components/AppRoot/ScrollContext.tsx"),useAdaptivityWithJSMediaQueries=__webpack_require__("./src/hooks/useAdaptivityWithJSMediaQueries.ts"),ModalRoot=function ModalRoot(props){var isDesktop=(0,useAdaptivityWithJSMediaQueries.o)().isDesktop;(0,ScrollContext.Pr)(!!props.activeModal);var RootComponent=isDesktop?ModalRootDesktop:ModalRootTouch;return react.createElement(RootComponent,props)};try{ModalRoot.displayName="ModalRoot",ModalRoot.__docgenInfo={description:"",displayName:"ModalRoot",props:{activeModal:{defaultValue:null,description:"",name:"activeModal",required:!1,type:{name:"string | null"}},onOpen:{defaultValue:null,description:"Будет вызвано при начале открытия активной модалки с её id",name:"onOpen",required:!1,type:{name:"((modalId: string) => void)"}},onOpened:{defaultValue:null,description:"Будет вызвано при окончательном открытии активной модалки с её id",name:"onOpened",required:!1,type:{name:"((modalId: string) => void)"}},onClose:{defaultValue:null,description:"Будет вызвано при начале закрытия активной модалки с её id",name:"onClose",required:!1,type:{name:"((modalId: string) => void)"}},onClosed:{defaultValue:null,description:"Будет вызвано при окончательном закрытии активной модалки с её id",name:"onClosed",required:!1,type:{name:"((modalId: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/ModalRootAdaptive.tsx#ModalRoot"]={docgenInfo:ModalRoot.__docgenInfo,name:"ModalRoot",path:"src/components/ModalRoot/ModalRootAdaptive.tsx#ModalRoot"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ModalRoot/types.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var ModalType;__webpack_require__.d(__webpack_exports__,{w:function(){return ModalType}}),function(ModalType){ModalType.PAGE="page",ModalType.CARD="card"}(ModalType||(ModalType={}))},"./src/components/Placeholder/Placeholder.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{V:function(){return Placeholder}});var esm_extends=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("../../node_modules/react/index.js"),es6=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),Title=__webpack_require__("./src/components/Typography/Title/Title.tsx"),Headline=__webpack_require__("./src/components/Typography/Headline/Headline.tsx"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),Placeholder_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[10].use[2]!./src/components/Placeholder/Placeholder.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Placeholder_module.Z,options);var Placeholder_Placeholder_module=Placeholder_module.Z&&Placeholder_module.Z.locals?Placeholder_module.Z.locals:void 0,_excluded=["icon","header","action","children","stretched","getRootRef","className"],Placeholder=function Placeholder(_ref){var icon=_ref.icon,header=_ref.header,action=_ref.action,children=_ref.children,stretched=_ref.stretched,getRootRef=_ref.getRootRef,className=_ref.className,restProps=(0,objectWithoutProperties.Z)(_ref,_excluded);return react.createElement("div",(0,esm_extends.Z)({},restProps,{ref:getRootRef,className:(0,es6.AK)(Placeholder_Placeholder_module.Placeholder,stretched&&Placeholder_Placeholder_module["Placeholder--stretched"],className)}),react.createElement("div",{className:Placeholder_Placeholder_module.Placeholder__in},(0,es6.p7)(icon)&&react.createElement("div",{className:Placeholder_Placeholder_module.Placeholder__icon},icon),(0,es6.p7)(header)&&react.createElement(Title.D,{level:"2",weight:"2",className:Placeholder_Placeholder_module.Placeholder__header},header),(0,es6.p7)(children)&&react.createElement(Headline.s,{weight:"3",className:Placeholder_Placeholder_module.Placeholder__text},children),(0,es6.p7)(action)&&react.createElement("div",{className:Placeholder_Placeholder_module.Placeholder__action},action)))};try{Placeholder.displayName="Placeholder",Placeholder.__docgenInfo={description:"",displayName:"Placeholder",props:{icon:{defaultValue:null,description:"Иконка",name:"icon",required:!1,type:{name:"ReactNode"}},header:{defaultValue:null,description:"Заголовок плейсхолдера",name:"header",required:!1,type:{name:"ReactNode"}},action:{defaultValue:null,description:"Кнопка действия",name:"action",required:!1,type:{name:"ReactNode"}},stretched:{defaultValue:null,description:"Растягивает плейсхолдер на весь экран, но в таком случае на экране должен быть только плейсхолдер",name:"stretched",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Placeholder/Placeholder.tsx#Placeholder"]={docgenInfo:Placeholder.__docgenInfo,name:"Placeholder",path:"src/components/Placeholder/Placeholder.tsx#Placeholder"})}catch(__react_docgen_typescript_loader_error){}},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[10].use[2]!./src/components/ModalDismissButton/ModalDismissButton.module.css":function(module,__webpack_exports__,__webpack_require__){var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,'.vkuiModalDismissButton{box-sizing:border-box;color:#fff;color:var(--vkui--color_icon_contrast);height:56px;justify-content:center;padding:18px;position:absolute;right:-56px;top:0;transition:opacity .15s ease-out;width:56px}.vkuiModalDismissButton:before{background:rgba(0,0,0,.4);background:var(--vkui--color_overlay_primary);border-radius:50%;bottom:14px;content:"";display:block;left:14px;position:absolute;right:14px;top:14px}.vkuiModalDismissButton .vkuiIcon{transform:translateX(0)}.vkuiModalDismissButton--hover.vkuiModalDismissButton:before{background:rgba(0,0,0,.44);background:var(--vkui--color_overlay_primary--hover)}.vkuiModalDismissButton--active.vkuiModalDismissButton:before{background:rgba(0,0,0,.48);background:var(--vkui--color_overlay_primary--active)}',"",{version:3,sources:["webpack://./src/components/ModalDismissButton/ModalDismissButton.module.css"],names:[],mappings:"AAAA,wBAQE,qBAAsB,CACtB,UAAuC,CAAvC,sCAAuC,CAHvC,WAAY,CAJZ,sBAAuB,CAKvB,YAAa,CANb,iBAAkB,CAGlB,WAAY,CADZ,KAAM,CAON,gCAAkC,CALlC,UAMF,CAEA,+BAOE,yBAA8C,CAA9C,6CAA8C,CAC9C,iBAAkB,CAHlB,WAAY,CAHZ,UAAW,CADX,aAAc,CAKd,SAAU,CAGV,iBAAkB,CALlB,UAAW,CADX,QAOF,CAGA,kCACE,uBACF,CAEA,6DACE,0BAAqD,CAArD,oDACF,CAEA,8DACE,0BAAsD,CAAtD,qDACF",sourcesContent:[".ModalDismissButton {\n  position: absolute;\n  justify-content: center;\n  top: 0;\n  right: -56px;\n  width: 56px;\n  height: 56px;\n  padding: 18px;\n  box-sizing: border-box;\n  color: var(--vkui--color_icon_contrast);\n  transition: opacity 0.15s ease-out;\n}\n\n.ModalDismissButton::before {\n  display: block;\n  content: '';\n  top: 14px;\n  right: 14px;\n  bottom: 14px;\n  left: 14px;\n  background: var(--vkui--color_overlay_primary);\n  border-radius: 50%;\n  position: absolute;\n}\n\n/* fixes icon misplacement on Safari in some cases */\n.ModalDismissButton :global(.vkuiIcon) {\n  transform: translateX(0);\n}\n\n.ModalDismissButton--hover.ModalDismissButton::before {\n  background: var(--vkui--color_overlay_primary--hover);\n}\n\n.ModalDismissButton--active.ModalDismissButton::before {\n  background: var(--vkui--color_overlay_primary--active);\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={ModalDismissButton:"vkuiModalDismissButton",vkuiIcon:"vkuiIcon","ModalDismissButton--hover":"vkuiModalDismissButton--hover","ModalDismissButton--active":"vkuiModalDismissButton--active"},__webpack_exports__.Z=___CSS_LOADER_EXPORT___},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[10].use[2]!./src/components/ModalRoot/ModalRoot.module.css":function(module,__webpack_exports__,__webpack_require__){var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".vkuiModalRoot,.vkuiModalRoot__mask{height:100%;width:100%}.vkuiModalRoot__mask{animation:vkui-animation-fadeIn .32s ease;background:rgba(0,0,0,.4);left:0;opacity:1;position:absolute;top:0;transition:opacity 167ms ease-out;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vkuiModalRoot--touched .vkuiModalRoot__mask{transition:none}.vkuiModalRoot--switching .vkuiModalRoot__mask{pointer-events:none}.vkuiModalRoot__viewport{bottom:0;left:0;pointer-events:none;position:absolute;right:0;top:0}:not(.vkuiModalRoot--desktop).vkuiModalRoot .vkuiModalRoot__viewport{top:0;top:var(--vkui_internal--safe_area_inset_top)}:not(.vkuiModalRoot--desktop).vkuiModalRoot--vkapps .vkuiModalRoot__viewport{top:calc(0px + 56px);top:calc(var(--vkui_internal--safe_area_inset_top) + var(--vkui--size_panel_header_height--regular))}.vkuiModalRoot__modal{box-sizing:border-box;height:100%;position:absolute;width:100%}@keyframes vkui-animation-fadeIn{0%{opacity:0}to{opacity:1}}.vkuiModalRoot__modal--collapsed,.vkuiModalRoot__modal--dragging,.vkuiModalRoot__modal--expandable{}","",{version:3,sources:["webpack://./src/components/ModalRoot/ModalRoot.module.css"],names:[],mappings:"AAKA,oCAHE,WAAY,CADZ,UAeF,CAXA,qBAUE,yCAA2C,CAH3C,yBAA8B,CAF9B,MAAO,CAJP,SAAU,CAGV,iBAAkB,CAElB,KAAM,CAGN,iCAAkC,CADlC,wBAAiB,CAAjB,qBAAiB,CAAjB,oBAAiB,CAAjB,gBAGF,CAEA,6CACE,eACF,CAEA,+CAEE,mBACF,CAEA,yBAIE,QAAS,CACT,MAAO,CACP,mBAAoB,CALpB,iBAAkB,CAElB,OAAQ,CADR,KAKF,CAEA,qEACE,KAA8C,CAA9C,6CACF,CAEA,6EACE,oBAEC,CAFD,oGAGF,CAEA,sBAIE,qBAAsB,CADtB,WAAY,CAFZ,iBAAkB,CAClB,UAGF,CAEA,iCACE,GACE,SACF,CAEA,GACE,SACF,CACF,CAEA,mGAIA",sourcesContent:[".ModalRoot {\n  width: 100%;\n  height: 100%;\n}\n\n.ModalRoot__mask {\n  opacity: 1;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  background: rgba(0, 0, 0, 0.4);\n  user-select: none;\n  transition: opacity 167ms ease-out;\n  animation: vkui-animation-fadeIn 0.32s ease;\n}\n\n.ModalRoot--touched .ModalRoot__mask {\n  transition: none;\n}\n\n.ModalRoot--switching .ModalRoot__mask {\n  /** Во время автоматической анимации смены модалок с фоном взаимодействовать нельзя */\n  pointer-events: none;\n}\n\n.ModalRoot__viewport {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n}\n\n:not(.ModalRoot--desktop).ModalRoot .ModalRoot__viewport {\n  top: var(--vkui_internal--safe_area_inset_top);\n}\n\n:not(.ModalRoot--desktop).ModalRoot--vkapps .ModalRoot__viewport {\n  top: calc(\n    var(--vkui_internal--safe_area_inset_top) + var(--vkui--size_panel_header_height--regular)\n  );\n}\n\n.ModalRoot__modal {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n}\n\n@keyframes vkui-animation-fadeIn {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n\n.ModalRoot__modal--dragging,\n.ModalRoot__modal--expandable,\n.ModalRoot__modal--collapsed {\n  /* Пустой класс для CSS Modules (см. CONTRIBUTING.md)  */\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={ModalRoot:"vkuiModalRoot",ModalRoot__mask:"vkuiModalRoot__mask","vkui-animation-fadeIn":"vkui-animation-fadeIn","ModalRoot--touched":"vkuiModalRoot--touched","ModalRoot--switching":"vkuiModalRoot--switching",ModalRoot__viewport:"vkuiModalRoot__viewport","ModalRoot--desktop":"vkuiModalRoot--desktop","ModalRoot--vkapps":"vkuiModalRoot--vkapps",ModalRoot__modal:"vkuiModalRoot__modal","ModalRoot__modal--collapsed":"vkuiModalRoot__modal--collapsed","ModalRoot__modal--dragging":"vkuiModalRoot__modal--dragging","ModalRoot__modal--expandable":"vkuiModalRoot__modal--expandable"},__webpack_exports__.Z=___CSS_LOADER_EXPORT___},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[10].use[2]!./src/components/Placeholder/Placeholder.module.css":function(module,__webpack_exports__,__webpack_require__){var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".vkuiPlaceholder{align-items:center;display:flex;justify-content:center}.vkuiPlaceholder--stretched{bottom:0;left:0;padding-bottom:inherit;padding-top:inherit;position:absolute;right:0;top:0}.vkuiPlaceholder__in{box-sizing:border-box;max-width:100%;padding:48px 32px;text-align:center}.vkuiPlaceholder__icon{color:#99a2ad;color:var(--vkui--color_icon_secondary);display:inline-block;margin-bottom:12px;vertical-align:top}.vkuiPlaceholder__header{color:#000;color:var(--vkui--color_text_primary)}.vkuiPlaceholder__text{color:#818c99;color:var(--vkui--color_text_secondary)}.vkuiPlaceholder__header+.vkuiPlaceholder__text{margin-top:8px}.vkuiPlaceholder__action:not(:first-child){margin-top:16px}","",{version:3,sources:["webpack://./src/components/Placeholder/Placeholder.module.css"],names:[],mappings:"AAAA,iBAEE,kBAAmB,CADnB,YAAa,CAEb,sBACF,CAEA,4BAKE,QAAS,CAFT,MAAO,CAIP,sBAAuB,CADvB,mBAAoB,CALpB,iBAAkB,CAGlB,OAAQ,CAFR,KAMF,CAEA,qBAGE,qBAAsB,CAFtB,cAAe,CAGf,iBAAkB,CAFlB,iBAGF,CAEA,uBAIE,aAAwC,CAAxC,uCAAwC,CAFxC,oBAAqB,CADrB,kBAAmB,CAEnB,kBAEF,CAEA,yBACE,UAAsC,CAAtC,qCACF,CAEA,uBACE,aAAwC,CAAxC,uCACF,CAEA,gDACE,cACF,CAEA,2CACE,eACF",sourcesContent:[".Placeholder {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.Placeholder--stretched {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  padding-top: inherit;\n  padding-bottom: inherit;\n}\n\n.Placeholder__in {\n  max-width: 100%;\n  text-align: center;\n  box-sizing: border-box;\n  padding: 48px 32px;\n}\n\n.Placeholder__icon {\n  margin-bottom: 12px;\n  display: inline-block;\n  vertical-align: top;\n  color: var(--vkui--color_icon_secondary);\n}\n\n.Placeholder__header {\n  color: var(--vkui--color_text_primary);\n}\n\n.Placeholder__text {\n  color: var(--vkui--color_text_secondary);\n}\n\n.Placeholder__header + .Placeholder__text {\n  margin-top: 8px;\n}\n\n.Placeholder__action:not(:first-child) {\n  margin-top: 16px;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={Placeholder:"vkuiPlaceholder","Placeholder--stretched":"vkuiPlaceholder--stretched",Placeholder__in:"vkuiPlaceholder__in",Placeholder__icon:"vkuiPlaceholder__icon",Placeholder__header:"vkuiPlaceholder__header",Placeholder__text:"vkuiPlaceholder__text",Placeholder__action:"vkuiPlaceholder__action"},__webpack_exports__.Z=___CSS_LOADER_EXPORT___}}]);