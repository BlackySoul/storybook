"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[9713],{"./src/components/FocusVisible/FocusVisible.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{W:function(){return FocusVisible}});var react=__webpack_require__("../../node_modules/react/index.js"),es6=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),FocusVisible_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[10].use[2]!./src/components/FocusVisible/FocusVisible.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(FocusVisible_module.Z,options);var FocusVisible_FocusVisible_module=FocusVisible_module.Z&&FocusVisible_module.Z.locals?FocusVisible_module.Z.locals:void 0,FocusVisible=function FocusVisible(_ref){var mode=_ref.mode;return react.createElement("span",{"aria-hidden":!0,className:(0,es6.AK)(FocusVisible_FocusVisible_module.FocusVisible,FocusVisible_FocusVisible_module["FocusVisible--mode-".concat(mode)])})};try{FocusVisible.displayName="FocusVisible",FocusVisible.__docgenInfo={description:"",displayName:"FocusVisible",props:{mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"inside"'},{value:'"outside"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FocusVisible/FocusVisible.tsx#FocusVisible"]={docgenInfo:FocusVisible.__docgenInfo,name:"FocusVisible",path:"src/components/FocusVisible/FocusVisible.tsx#FocusVisible"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Tappable/Tappable.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Kp:function(){return ACTIVE_EFFECT_DELAY},KR:function(){return Tappable}});var esm_extends=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),toConsumableArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),objectWithoutProperties=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),slicedToArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("../../node_modules/react/index.js"),mitt=__webpack_require__("../../node_modules/mitt/dist/mitt.mjs"),es6=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),Touch=__webpack_require__("./src/components/Touch/Touch.tsx"),TouchContext=__webpack_require__("./src/components/Touch/TouchContext.ts"),lib_platform=__webpack_require__("./src/lib/platform.ts");var touch=__webpack_require__("./src/lib/touch.ts"),accessibility=__webpack_require__("./src/lib/accessibility.ts"),useIsomorphicLayoutEffect=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts"),FocusVisible=__webpack_require__("./src/components/FocusVisible/FocusVisible.tsx"),useTimeout=__webpack_require__("./src/hooks/useTimeout.ts"),useExternRef=__webpack_require__("./src/hooks/useExternRef.ts"),usePlatform=__webpack_require__("./src/hooks/usePlatform.ts"),useFocusVisible=__webpack_require__("./src/hooks/useFocusVisible.ts"),callMultiple=__webpack_require__("./src/lib/callMultiple.ts"),useBooleanState=__webpack_require__("./src/hooks/useBooleanState.ts"),useAdaptivity=__webpack_require__("./src/hooks/useAdaptivity.ts"),AdaptivityContext=__webpack_require__("./src/components/AdaptivityProvider/AdaptivityContext.tsx"),useIsClient=__webpack_require__("./src/hooks/useIsClient.ts");var useAdaptivityHasPointer=__webpack_require__("./src/hooks/useAdaptivityHasPointer.ts"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),Tappable_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[10].use[2]!./src/components/Tappable/Tappable.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Tappable_module.Z,options);var Tappable_Tappable_module=Tappable_module.Z&&Tappable_module.Z.locals?Tappable_module.Z.locals:void 0,_excluded=["children","Component","onClick","onKeyDown","activeEffectDelay","stopPropagation","getRootRef","hasHover","hoverMode","hasActive","activeMode","focusVisibleMode","onEnter","onLeave","className"],sizeXClassNames={none:Tappable_Tappable_module["Tappable--sizeX-none"],compact:Tappable_Tappable_module["Tappable--sizeX-compact"],regular:Tappable_Tappable_module["Tappable--sizeX-regular"]},ACTIVE_EFFECT_DELAY=600,activeBus=(0,mitt.Z)(),TapState_none=0,TapState_pending=1,TapState_active=2,TapState_exiting=3,TappableContext=react.createContext({onHoverChange:es6.ZT});function isPresetStateMode(stateMode){switch(stateMode){case"opacity":case"background":return!0;default:return!1}}var Tappable=function Tappable(_ref){var children=_ref.children,Component=_ref.Component,onClick=_ref.onClick,_onKeyDown=_ref.onKeyDown,_ref$activeEffectDela=_ref.activeEffectDelay,activeEffectDelay=void 0===_ref$activeEffectDela?ACTIVE_EFFECT_DELAY:_ref$activeEffectDela,_ref$stopPropagation=_ref.stopPropagation,stopPropagation=void 0!==_ref$stopPropagation&&_ref$stopPropagation,getRootRef=_ref.getRootRef,_ref$hasHover=_ref.hasHover,_hasHover=void 0===_ref$hasHover||_ref$hasHover,_ref$hoverMode=_ref.hoverMode,hoverMode=void 0===_ref$hoverMode?"background":_ref$hoverMode,_ref$hasActive=_ref.hasActive,_hasActive=void 0===_ref$hasActive||_ref$hasActive,_ref$activeMode=_ref.activeMode,activeMode=void 0===_ref$activeMode?"background":_ref$activeMode,_ref$focusVisibleMode=_ref.focusVisibleMode,focusVisibleMode=void 0===_ref$focusVisibleMode?"inside":_ref$focusVisibleMode,onEnter=_ref.onEnter,onLeave=_ref.onLeave,className=_ref.className,props=(0,objectWithoutProperties.Z)(_ref,_excluded);Component=Component||(props.href?"a":"div");var onHoverChange=react.useContext(TappableContext).onHoverChange,insideTouchRoot=react.useContext(TouchContext.Z),platform=(0,usePlatform.F)(),_useFocusVisible=(0,useFocusVisible._)(),focusVisible=_useFocusVisible.focusVisible,onBlur=_useFocusVisible.onBlur,onFocus=_useFocusVisible.onFocus,_useAdaptivity$sizeX=(0,useAdaptivity.g)().sizeX,sizeX=void 0===_useAdaptivity$sizeX?"none":_useAdaptivity$sizeX,hasPointerContext=(0,useAdaptivityHasPointer.K)(),hasHoverContext=function useAdaptivityHasHover(){var deferDetect=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],hasHoverContext=react.useContext(AdaptivityContext.s).hasHover,hasHover=void 0===hasHoverContext?es6.NH:hasHoverContext;if((0,useIsClient.O)(!deferDetect))return hasHover}(),_React$useState3=react.useState([]),_React$useState4=(0,slicedToArray.Z)(_React$useState3,2),clicks=_React$useState4[0],setClicks=_React$useState4[1],_React$useState5=react.useState(!1),_React$useState6=(0,slicedToArray.Z)(_React$useState5,2),childHover=_React$useState6[0],setChildHover=_React$useState6[1],_useBooleanState=(0,useBooleanState.z)(!1),_hovered=_useBooleanState.value,setHoveredTrue=_useBooleanState.setTrue,setHoveredFalse=_useBooleanState.setFalse,hovered=_hovered&&!props.disabled,hasActive=_hasActive&&!childHover&&!props.disabled,hasHover=hasHoverContext&&_hasHover&&!childHover,isCustomElement="a"!==Component&&"button"!==Component&&"label"!==Component&&!props.contentEditable,isPresetHoverMode=isPresetStateMode(hoverMode),isPresetActiveMode=isPresetStateMode(activeMode),isPresetFocusVisibleMode=["inside","outside"].includes(focusVisibleMode),_useActivity=function useActivity(hasActive,stopDelay){var id=react.useMemo((function(){return Math.round(1e8*Math.random()).toString(16)}),[]),_React$useState=react.useState(TapState_none),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),activity=_React$useState2[0],setActivity=_React$useState2[1],_stop=function _stop(){return setActivity(TapState_none)},start=function start(){return hasActive&&setActivity(TapState_active)},activeTimeout=(0,useTimeout.K)(start,70),stopTimeout=(0,useTimeout.K)(_stop,stopDelay);return(0,useIsomorphicLayoutEffect.L)((function(){return activity===TapState_pending?(activeTimeout.set(),activeTimeout.clear):activity===TapState_exiting?stopTimeout.clear:(activity===TapState_active&&activeBus.emit("active",id),es6.ZT)}),[activity]),(0,useIsomorphicLayoutEffect.L)((function(){if(activity===TapState_none)return es6.ZT;var onActiveChange=function onActiveChange(activeId){activeId!==id&&_stop()};return activeBus.on("active",onActiveChange),function(){return activeBus.off("active",onActiveChange)}}),[activity===TapState_none]),(0,useIsomorphicLayoutEffect.L)((function(){!hasActive&&_stop()}),[hasActive]),[activity,{delayStart:function delayStart(){hasActive&&setActivity(TapState_pending)},start:start,stop:function stop(delay){if(delay)return setActivity(TapState_exiting),stopTimeout.set(delay);_stop()}}]}(hasActive,activeEffectDelay),_useActivity2=(0,slicedToArray.Z)(_useActivity,2),activity=_useActivity2[0],_useActivity2$=_useActivity2[1],start=_useActivity2$.start,stop=_useActivity2$.stop,delayStart=_useActivity2$.delayStart,active=activity===TapState_active||activity===TapState_exiting,containerRef=(0,useExternRef.Q)(getRootRef),childContext=react.useRef({onHoverChange:setChildHover}).current;(0,useIsomorphicLayoutEffect.L)((function(){return hovered?(onHoverChange(!0),function(){return onHoverChange(!1)}):es6.ZT}),[hovered]);var needWaves=platform===lib_platform.t.ANDROID&&!hasPointerContext&&hasActive&&"background"===activeMode,clearClicks=(0,useTimeout.K)((function(){return setClicks([])}),225);var classes=(0,es6.AK)(className,Tappable_Tappable_module.Tappable,platform===lib_platform.t.IOS&&Tappable_Tappable_module["Tappable--ios"],sizeXClassNames[sizeX],hasHoverContext&&Tappable_Tappable_module["Tappable--hover-has"],hasActive&&Tappable_Tappable_module["Tappable--hasActive"],hasHover&&hovered&&!isPresetHoverMode&&hoverMode,hasActive&&active&&!isPresetActiveMode&&activeMode,focusVisible&&!isPresetFocusVisibleMode&&focusVisibleMode,hasActive&&active&&Tappable_Tappable_module["Tappable--active"],hasHover&&hovered&&isPresetHoverMode&&Tappable_Tappable_module["Tappable--hover-".concat(hoverMode)],hasActive&&active&&isPresetActiveMode&&Tappable_Tappable_module["Tappable--active-".concat(activeMode)],focusVisible&&Tappable_Tappable_module["Tappable--focus-visible"]),handlers={onStart:(0,callMultiple.C)((function onStart(_ref2){var originalEvent=_ref2.originalEvent;if(hasActive){if(originalEvent.touches&&originalEvent.touches.length>1)return stop();if(needWaves){var _getOffsetRect=function getOffsetRect(elem){var box=null==elem?void 0:elem.getBoundingClientRect();return{top:null==box?void 0:box.top,left:null==box?void 0:box.left,width:null==elem?void 0:elem.offsetWidth,height:null==elem?void 0:elem.offsetHeight}}(containerRef.current),top=_getOffsetRect.top,left=_getOffsetRect.left;!function addClick(x,y){var dateNow=Date.now(),filteredClicks=clicks.filter((function(click){return click.id+225>dateNow}));setClicks([].concat((0,toConsumableArray.Z)(filteredClicks),[{x:x,y:y,id:dateNow}])),clearClicks.set()}((0,touch.Mb)(originalEvent)-(null!=left?left:0),(0,touch.y7)(originalEvent)-(null!=top?top:0))}delayStart()}}),props.onStart),onMove:(0,callMultiple.C)((function onMove(_ref3){_ref3.isSlide&&stop()}),props.onMove),onEnd:(0,callMultiple.C)((function onEnd(_ref4){var duration=_ref4.duration;if(activity!==TapState_none){activity===TapState_pending&&start();var activeDuration=duration-70;stop(activeDuration>=100?0:activeEffectDelay-activeDuration)}}),props.onEnd),onClick:onClick,onKeyDown:(0,callMultiple.C)((function onKeyDown(e){var _containerRef$current;isCustomElement&&(0,accessibility.o7)(e)&&(e.preventDefault(),null===(_containerRef$current=containerRef.current)||void 0===_containerRef$current||_containerRef$current.click())}),_onKeyDown)},role=props.href?"link":"button";return react.createElement(Touch.X,(0,esm_extends.Z)({onEnter:(0,callMultiple.C)(setHoveredTrue,onEnter),onLeave:(0,callMultiple.C)(setHoveredFalse,onLeave),type:"button"===Component?"button":void 0,tabIndex:isCustomElement&&!props.disabled?0:void 0,role:isCustomElement?role:void 0,"aria-disabled":isCustomElement?props.disabled:void 0,stopPropagation:stopPropagation&&!insideTouchRoot&&!props.disabled},props,{slideThreshold:20,usePointerHover:!0,className:classes,Component:Component,getRootRef:containerRef,onBlur:(0,callMultiple.C)(onBlur,props.onBlur),onFocus:(0,callMultiple.C)(onFocus,props.onFocus)},props.disabled?{}:handlers),react.createElement(TappableContext.Provider,{value:childContext},children),needWaves&&react.createElement("span",{"aria-hidden":!0,className:Tappable_Tappable_module.Tappable__waves},clicks.map((function(wave){return react.createElement("span",{key:wave.id,className:Tappable_Tappable_module.Tappable__wave,style:{top:wave.y,left:wave.x}})}))),(hasHover&&"background"===hoverMode||hasActive&&"background"===activeMode)&&react.createElement("span",{"aria-hidden":!0,className:Tappable_Tappable_module.Tappable__stateLayer}),!props.disabled&&isPresetFocusVisibleMode&&react.createElement(FocusVisible.W,{mode:focusVisibleMode}))};try{Tappable.displayName="Tappable",Tappable.__docgenInfo={description:"",displayName:"Tappable",props:{activeEffectDelay:{defaultValue:{value:"600"},description:"Длительность показа active-состояния",name:"activeEffectDelay",required:!1,type:{name:"number"}},stopPropagation:{defaultValue:{value:"false"},description:"",name:"stopPropagation",required:!1,type:{name:"boolean"}},hasHover:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на hover-состояние",name:"hasHover",required:!1,type:{name:"boolean"}},hasActive:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на active-состояние",name:"hasActive",required:!1,type:{name:"boolean"}},activeMode:{defaultValue:{value:"background"},description:"Стиль подсветки active-состояния. Если передать произвольную строку, она добавится как css-класс во время active",name:"activeMode",required:!1,type:{name:"string"}},hoverMode:{defaultValue:{value:"background"},description:"Стиль подсветки hover-состояния. Если передать произвольную строку, она добавится как css-класс во время hover",name:"hoverMode",required:!1,type:{name:"string"}},focusVisibleMode:{defaultValue:{value:"inside"},description:"Стиль аутлайна focus visible. Если передать произвольную строку, она добавится как css-класс во время focus-visible",name:"focusVisibleMode",required:!1,type:{name:"string"}},onEnter:{defaultValue:null,description:"",name:"onEnter",required:!1,type:{name:"((outputEvent: MouseEvent) => void)"}},onLeave:{defaultValue:null,description:"",name:"onLeave",required:!1,type:{name:"((outputEvent: MouseEvent) => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any>"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"TouchEventHandler"}},onMove:{defaultValue:null,description:"",name:"onMove",required:!1,type:{name:"TouchEventHandler"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"TouchEventHandler"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Tappable/Tappable.tsx#Tappable"]={docgenInfo:Tappable.__docgenInfo,name:"Tappable",path:"src/components/Tappable/Tappable.tsx#Tappable"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Touch/TouchContext.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var TouchRootContext=__webpack_require__("../../node_modules/react/index.js").createContext(!1);__webpack_exports__.Z=TouchRootContext},"./src/hooks/useAdaptivityHasPointer.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{K:function(){return useAdaptivityHasPointer}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),_components_AdaptivityProvider_AdaptivityContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/AdaptivityProvider/AdaptivityContext.tsx"),_useIsClient__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/hooks/useIsClient.ts");function useAdaptivityHasPointer(){var deferDetect=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],_React$useContext=react__WEBPACK_IMPORTED_MODULE_0__.useContext(_components_AdaptivityProvider_AdaptivityContext__WEBPACK_IMPORTED_MODULE_2__.s),hasPointerContext=_React$useContext.hasPointer,hasPointer=void 0===hasPointerContext?_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.RX:hasPointerContext,isClient=(0,_useIsClient__WEBPACK_IMPORTED_MODULE_3__.O)(!deferDetect);if(isClient)return hasPointer}},"./src/hooks/useBooleanState.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{z:function(){return useBooleanState}});var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),useBooleanState=function useBooleanState(){var defaultValue=arguments.length>0&&void 0!==arguments[0]&&arguments[0],_React$useState=react__WEBPACK_IMPORTED_MODULE_0__.useState(defaultValue),_React$useState2=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.Z)(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1],setTrue=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((function(){setValue(!0)}),[]),setFalse=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((function(){setValue(!1)}),[]),toggle=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((function(){setValue(!value)}),[value]);return{value:value,setTrue:setTrue,setFalse:setFalse,toggle:toggle}}},"./src/hooks/useFocusVisible.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{_:function(){return useFocusVisible}});var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_components_AppRoot_AppRootContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/AppRoot/AppRootContext.ts");function useFocusVisible(){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState2=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.Z)(_useState,2),isFocused=_useState2[0],setIsFocused=_useState2[1];return{focusVisible:(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_components_AppRoot_AppRootContext__WEBPACK_IMPORTED_MODULE_2__.A).keyboardInput&&isFocused,onFocus:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(event){event.stopPropagation(),setIsFocused(!0)}),[setIsFocused]),onBlur:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(event){event.stopPropagation(),setIsFocused(!1)}),[setIsFocused])}}},"./src/lib/callMultiple.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{C:function(){return callMultiple}});var callMultiple=function callMultiple(){for(var _len=arguments.length,fns=new Array(_len),_key=0;_key<_len;_key++)fns[_key]=arguments[_key];return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return fns.filter((function(f){return"function"==typeof f})).forEach((function(f){return f.apply(void 0,args)}))}}},"./src/storybook/constants.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{R0:function(){return StringArg},nB:function(){return DisableCartesianParam},tW:function(){return CanvasFullLayout},uf:function(){return FigmaUrls}});var CanvasFullLayout={layout:"fullscreen",previewTabs:{"storybook/docs/panel":{hidden:!0}},viewMode:"story",centered:!0},DisableCartesianParam={cartesian:{disable:!0}},StringArg={control:{type:"text"}},FigmaUrls={ActionSheet:"https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=27%3A4&t=PMn6l8SzrfRRUSod-0",ActionSheetItem:"https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=27%3A4&t=PMn6l8SzrfRRUSod-0",Alert:"https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=146%3A0&t=PMn6l8SzrfRRUSod-0",ScreenSpinner:"https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=146%3A8&t=uhwIZneBQyQtx8Td-0",Snackbar:"https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=146%3A10&t=uhwIZneBQyQtx8Td-0",Typography:"https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=18802%3A108351&t=uhwIZneBQyQtx8Td-0",ModalCard:"https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=146%3A4&t=uhwIZneBQyQtx8Td-0",ModalPage:"https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=146%3A5&t=uhwIZneBQyQtx8Td-0",Epic:"https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=9374%3A63616&t=uhwIZneBQyQtx8Td-0",HorizontalCell:"https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=2121%3A114693&t=uhwIZneBQyQtx8Td-0",PanelHeader:"https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=27%3A0&t=uhwIZneBQyQtx8Td-0",Tabbar:"https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=27%3A1&t=uhwIZneBQyQtx8Td-0",Calendar:"https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=17935%3A102822&t=uhwIZneBQyQtx8Td-0",Forms:"https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=27%3A3&t=0HQxAeW7YFeDL2gn-0",Avatar:"https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=16667%3A66875&t=QIyBJwdYLsAmk3wb-0",Badge:"",Banner:"",Button:"",Card:"",CardGrid:"",Cell:"",CellButton:"",ContentCard:"",Counter:"",Footer:"",Gallery:"",Gradient:"",GridAvatar:"",Group:"",Header:"",MiniInfoCell:"",Pagination:"",Placeholder:"",Progress:"",Search:"",Separator:"",Spacing:"",SubnavigationBar:"",Switch:"",Tabs:"",UsersStack:""}},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[10].use[2]!./src/components/FocusVisible/FocusVisible.module.css":function(module,__webpack_exports__,__webpack_require__){var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,'[class$="--focus-visible"]>.vkuiFocusVisible{border-radius:inherit;overflow:hidden;pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[class$="--focus-visible"]>.vkuiFocusVisible--mode-inside{border-color:#2688eb;border-color:var(--vkui--color_stroke_accent);border-style:solid;border-width:2px;bottom:2px;box-sizing:border-box;left:2px;right:2px;top:2px}[class$="--focus-visible"]>.vkuiFocusVisible--mode-outside{bottom:-2px;box-shadow:0 0 0 2px #2688eb;box-shadow:0 0 0 2px var(--vkui--color_stroke_accent);left:-2px;right:-2px;top:-2px}@media (prefers-reduced-motion:no-preference){[class$="--focus-visible"]>.vkuiFocusVisible{animation:vkui-animation-focus-visible .15s ease-in-out forwards;animation-delay:.01ms;bottom:4px;left:4px;right:4px;top:4px;will-change:top,left,bottom,right}[class$="--focus-visible"]>.vkuiFocusVisible--mode-outside{animation-name:vkui-animation-focus-visible-outside;bottom:0;left:0;right:0;top:0}@keyframes vkui-animation-focus-visible{0%{}to{bottom:0;left:0;right:0;top:0;will-change:auto}}@keyframes vkui-animation-focus-visible-outside{0%{}to{bottom:-2px;left:-2px;right:-2px;top:-2px;will-change:auto}}}',"",{version:3,sources:["webpack://./src/components/FocusVisible/FocusVisible.module.css"],names:[],mappings:"AAAA,6CAEE,qBAAsB,CAGtB,eAAgB,CADhB,mBAAoB,CAHpB,iBAAkB,CAElB,wBAAiB,CAAjB,qBAAiB,CAAjB,oBAAiB,CAAjB,gBAGF,CAEA,0DAKE,oBAA8C,CAA9C,6CAA8C,CAE9C,kBAAmB,CADnB,gBAAiB,CAFjB,UAAW,CAIX,qBAAsB,CANtB,QAAS,CACT,SAAU,CAFV,OAQF,CAEA,2DAIE,WAAY,CACZ,4BAAsD,CAAtD,qDAAsD,CAHtD,SAAU,CACV,UAAW,CAFX,QAKF,CAQA,8CACE,6CAKE,gEAAkE,CAClE,qBAAuB,CAFvB,UAAW,CAFX,QAAS,CACT,SAAU,CAFV,OAAQ,CAMR,iCACF,CAEA,2DAKE,mDAAoD,CAFpD,QAAS,CADT,MAAO,CAEP,OAAQ,CAHR,KAKF,CAEA,wCACE,GACA,CAEA,GAGE,QAAS,CADT,MAAO,CAEP,OAAQ,CAHR,KAAM,CAIN,gBACF,CACF,CAEA,gDACE,GACA,CAEA,GAGE,WAAY,CADZ,SAAU,CAEV,UAAW,CAHX,QAAS,CAIT,gBACF,CACF,CACF",sourcesContent:["[class$='--focus-visible'] > .FocusVisible {\n  position: absolute;\n  border-radius: inherit;\n  user-select: none;\n  pointer-events: none;\n  overflow: hidden;\n}\n\n[class$='--focus-visible'] > .FocusVisible--mode-inside {\n  top: 2px;\n  left: 2px;\n  right: 2px;\n  bottom: 2px;\n  border-color: var(--vkui--color_stroke_accent);\n  border-width: 2px;\n  border-style: solid;\n  box-sizing: border-box;\n}\n\n[class$='--focus-visible'] > .FocusVisible--mode-outside {\n  top: -2px;\n  left: -2px;\n  right: -2px;\n  bottom: -2px;\n  box-shadow: 0 0 0 2px var(--vkui--color_stroke_accent);\n}\n\n/**\n * [a11y]\n * add animation for browsers that support prefers-reduced-motion\n * so that users with vestibular motion disorders have no problem\n * navigating accessible vkui apps via keyboard\n */\n@media (prefers-reduced-motion: no-preference) {\n  [class$='--focus-visible'] > .FocusVisible {\n    top: 4px;\n    left: 4px;\n    right: 4px;\n    bottom: 4px;\n    animation: vkui-animation-focus-visible 0.15s ease-in-out forwards;\n    animation-delay: 0.01ms;\n    will-change: top, left, bottom, right;\n  }\n\n  [class$='--focus-visible'] > .FocusVisible--mode-outside {\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    animation-name: vkui-animation-focus-visible-outside;\n  }\n\n  @keyframes vkui-animation-focus-visible {\n    0% {\n    }\n\n    100% {\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n      will-change: auto;\n    }\n  }\n\n  @keyframes vkui-animation-focus-visible-outside {\n    0% {\n    }\n\n    100% {\n      top: -2px;\n      left: -2px;\n      bottom: -2px;\n      right: -2px;\n      will-change: auto;\n    }\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={FocusVisible:"vkuiFocusVisible","FocusVisible--mode-inside":"vkuiFocusVisible--mode-inside","FocusVisible--mode-outside":"vkuiFocusVisible--mode-outside","vkui-animation-focus-visible":"vkui-animation-focus-visible","vkui-animation-focus-visible-outside":"vkui-animation-focus-visible-outside"},__webpack_exports__.Z=___CSS_LOADER_EXPORT___},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[10].use[2]!./src/components/Tappable/Tappable.module.css":function(module,__webpack_exports__,__webpack_require__){var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,'.vkuiTappable{-webkit-tap-highlight-color:transparent;border-radius:8px;border-radius:var(--vkui--size_border_radius--regular);cursor:default;isolation:isolate;position:relative;transition:background-color .15s ease-out,opacity .15s ease-out}.vkuiTappable>*{position:relative;z-index:1;z-index:var(--vkui_internal--z_index_tappable_element)}.vkuiTappable--hasActive,.vkuiTappable--hover-has{cursor:pointer}.vkuiTappable[aria-disabled=true],.vkuiTappable[disabled]{cursor:default}.vkuiTappable--active{}.vkuiTappable--focus-visible{outline:none}.vkuiTappable__stateLayer{border-radius:inherit;bottom:0;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0;transition:background-color .15s ease-out;z-index:0;z-index:var(--vkui_internal--z_index_tappable_state)}.vkuiTappable--hover-background>.vkuiTappable__stateLayer{background-color:rgba(0,16,61,.04);background-color:var(--vkui--color_transparent--hover)}.vkuiTappable--hover-opacity{opacity:.8}.vkuiTappable--active-background>.vkuiTappable__stateLayer{background-color:rgba(0,16,61,.08);background-color:var(--vkui--color_transparent--active)}.vkuiTappable--active-opacity{opacity:.7}.vkuiTappable--ios.vkuiTappable--active-background{transition:none}.vkuiTappable .vkuiTappable__waves{border-radius:inherit;bottom:0;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0;will-change:transform;z-index:0;z-index:var(--vkui_internal--z_index_tappable_state)}.vkuiTappable .vkuiTappable__wave{animation:vkui-animation-wave .3s cubic-bezier(.4,0,.2,1);animation:vkui-animation-wave .3s var(--vkui--animation_easing_platform);background:rgba(0,16,61,.08);background:var(--vkui--color_transparent--active);border-radius:50%;content:"";height:24px;left:0;margin:-12px 0 0 -12px;opacity:0;position:absolute;top:0;width:24px}.vkuiTappable--sizeX-regular{}.vkuiTappable--sizeX-compact{border-radius:0}@media not (min-width:768px){.vkuiTappable--sizeX-none{border-radius:0}}@keyframes vkui-animation-wave{0%{opacity:1;transform:scale(1)}30%{opacity:1}to{opacity:0;transform:scale(8)}}',"",{version:3,sources:["webpack://./src/components/Tappable/Tappable.module.css"],names:[],mappings:"AAAA,cAME,uCAAwC,CAFxC,iBAAuD,CAAvD,sDAAuD,CADvD,cAAe,CAFf,iBAAkB,CAClB,iBAAkB,CAGlB,+DAEF,CAaA,gBACE,iBAAkB,CAClB,SAAuD,CAAvD,sDACF,CAEA,kDAEE,cACF,CAEA,0DAEE,cACF,CAEA,sBAEA,CAEA,6BACE,YACF,CAKA,0BASE,qBAAsB,CAJtB,QAAS,CACT,MAAO,CAEP,eAAgB,CADhB,mBAAoB,CALpB,iBAAkB,CAElB,OAAQ,CADR,KAAM,CAON,yCAA2C,CAT3C,SAAqD,CAArD,oDAUF,CAEA,0DACE,kCAAuD,CAAvD,sDACF,CAEA,6BACE,UACF,CAEA,2DACE,kCAAwD,CAAxD,uDACF,CAEA,8BACE,UACF,CAKA,mDACE,eACF,CAEA,mCASE,qBAAsB,CAJtB,QAAS,CACT,MAAO,CAEP,eAAgB,CADhB,mBAAoB,CALpB,iBAAkB,CAElB,OAAQ,CADR,KAAM,CAQN,qBAAsB,CAVtB,SAAqD,CAArD,oDAWF,CAEA,kCAWE,yDAA0E,CAA1E,wEAA0E,CAD1E,4BAAkD,CAAlD,iDAAkD,CADlD,iBAAkB,CADlB,UAAW,CAHX,WAAY,CAFZ,MAAO,CAGP,sBAAuB,CACvB,SAAU,CANV,iBAAkB,CAClB,KAAM,CAEN,UAQF,CAKA,6BAEA,CAEA,6BACE,eACF,CAEA,6BACE,0BACE,eACF,CACF,CAKA,+BACE,GAEE,SAAU,CADV,kBAEF,CAEA,IACE,SACF,CAEA,GAEE,SAAU,CADV,kBAEF,CACF",sourcesContent:[".Tappable {\n  isolation: isolate;\n  position: relative;\n  cursor: default;\n  border-radius: var(--vkui--size_border_radius--regular);\n  transition: background-color 0.15s ease-out, opacity 0.15s ease-out;\n  -webkit-tap-highlight-color: transparent;\n}\n\n/*\nПросто поменять местами элементы внутри Tappable нельзя:\n\n- некоторые элементы завязаны на :last-child и :first-child\n- необходимо чтобы все элементы были позиционированные\n\nhttps://developer.mozilla.org/ru/docs/Web/CSS/CSS_Positioning/Understanding_z_index/Stacking_without_z-index\nhttps://github.com/VKCOM/VKUI/pull/3641\n*/\n\n/* stylelint-disable-next-line vkui/atomic */\n.Tappable > * {\n  position: relative;\n  z-index: var(--vkui_internal--z_index_tappable_element);\n}\n\n.Tappable--hover-has,\n.Tappable--hasActive {\n  cursor: pointer;\n}\n\n.Tappable[disabled],\n.Tappable[aria-disabled='true'] {\n  cursor: default;\n}\n\n.Tappable--active {\n  /* Пустой класс для CSS Modules (см. CONTRIBUTING.md)  */\n}\n\n.Tappable--focus-visible {\n  outline: none;\n}\n\n/**\n * hover & active state\n */\n.Tappable__stateLayer {\n  z-index: var(--vkui_internal--z_index_tappable_state);\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  overflow: hidden;\n  border-radius: inherit;\n  transition: background-color 0.15s ease-out;\n}\n\n.Tappable--hover-background > .Tappable__stateLayer {\n  background-color: var(--vkui--color_transparent--hover);\n}\n\n.Tappable--hover-opacity {\n  opacity: 0.8;\n}\n\n.Tappable--active-background > .Tappable__stateLayer {\n  background-color: var(--vkui--color_transparent--active);\n}\n\n.Tappable--active-opacity {\n  opacity: 0.7;\n}\n\n/**\n * iOS tappable\n */\n.Tappable--ios.Tappable--active-background {\n  transition: none;\n}\n\n.Tappable .Tappable__waves {\n  z-index: var(--vkui_internal--z_index_tappable_state);\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  overflow: hidden;\n  border-radius: inherit;\n  /* Fix for Safari: css animation + border-radius + overflow ignores parent border-radius */\n  will-change: transform;\n}\n\n.Tappable .Tappable__wave {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 24px;\n  height: 24px;\n  margin: -12px 0 0 -12px;\n  opacity: 0;\n  content: '';\n  border-radius: 50%;\n  background: var(--vkui--color_transparent--active);\n  animation: vkui-animation-wave 0.3s var(--vkui--animation_easing_platform);\n}\n\n/**\n * overrides\n */\n.Tappable--sizeX-regular {\n  /* Пустой класс для CSS Modules (см. CONTRIBUTING.md)  */\n}\n\n.Tappable--sizeX-compact {\n  border-radius: 0;\n}\n\n@media (--sizeX-compact) {\n  .Tappable--sizeX-none {\n    border-radius: 0;\n  }\n}\n\n/**\n * Animations\n */\n@keyframes vkui-animation-wave {\n  0% {\n    transform: scale(1);\n    opacity: 1;\n  }\n\n  30% {\n    opacity: 1;\n  }\n\n  100% {\n    transform: scale(8);\n    opacity: 0;\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={Tappable:"vkuiTappable","Tappable--hasActive":"vkuiTappable--hasActive","Tappable--hover-has":"vkuiTappable--hover-has","Tappable--active":"vkuiTappable--active","Tappable--focus-visible":"vkuiTappable--focus-visible",Tappable__stateLayer:"vkuiTappable__stateLayer","Tappable--hover-background":"vkuiTappable--hover-background","Tappable--hover-opacity":"vkuiTappable--hover-opacity","Tappable--active-background":"vkuiTappable--active-background","Tappable--active-opacity":"vkuiTappable--active-opacity","Tappable--ios":"vkuiTappable--ios",Tappable__waves:"vkuiTappable__waves",Tappable__wave:"vkuiTappable__wave","vkui-animation-wave":"vkui-animation-wave","Tappable--sizeX-regular":"vkuiTappable--sizeX-regular","Tappable--sizeX-compact":"vkuiTappable--sizeX-compact","Tappable--sizeX-none":"vkuiTappable--sizeX-none"},__webpack_exports__.Z=___CSS_LOADER_EXPORT___}}]);