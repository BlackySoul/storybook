"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[7867],{"./src/components/DateInput/DateInput.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Playground:function(){return Playground},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return DateInput_stories}});var esm_extends=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),objectSpread2=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("../../node_modules/react/index.js"),date=__webpack_require__("./src/lib/date.ts"),_16_clear=__webpack_require__("../../node_modules/@vkontakte/icons/dist/es6/16/clear.js"),calendar_outline=__webpack_require__("../../node_modules/@vkontakte/icons/dist/es6/20/calendar_outline.js"),Calendar=__webpack_require__("./src/components/Calendar/Calendar.tsx"),Popper=__webpack_require__("./src/components/Popper/Popper.tsx"),utils=__webpack_require__("./src/lib/utils.ts"),IconButton=__webpack_require__("./src/components/IconButton/IconButton.tsx"),es6=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),FormField=__webpack_require__("./src/components/FormField/FormField.tsx"),useDateInput=__webpack_require__("./src/hooks/useDateInput.ts"),InputLike=__webpack_require__("./src/components/InputLike/InputLike.tsx"),InputLikeDivider=__webpack_require__("./src/components/InputLike/InputLikeDivider.tsx"),useAdaptivity=__webpack_require__("./src/hooks/useAdaptivity.ts"),callMultiple=__webpack_require__("./src/lib/callMultiple.ts"),getSizeYClassName=__webpack_require__("./src/helpers/getSizeYClassName.ts"),DateInput_module=__webpack_require__("./src/components/DateInput/DateInput.module.css"),_excluded=["enableTime","shouldDisableDate","disableFuture","disablePast","value","onChange","calendarPlacement","style","className","doneButtonText","closeOnChange","disablePickers","getRootRef","name","autoFocus","disabled","onClick","onFocus","prevMonthAriaLabel","nextMonthAriaLabel","showNeighboringMonth","size","changeMonthAriaLabel","changeYearAriaLabel","changeDayAriaLabel","changeHoursAriaLabel","changeMinutesAriaLabel","clearFieldAriaLabel","showCalendarAriaLabel","viewDate","onHeaderChange","onNextMonth","onPrevMonth","prevMonthIcon","nextMonthIcon","disableCalendar"],elementsConfig=function elementsConfig(index){var length=2,min=1,max=0;switch(index){case 0:max=31;break;case 1:max=12;break;case 2:max=2100,min=1900,length=4;break;case 3:max=23;break;case 4:max=59}return{length:length,min:min,max:max}},getInternalValue=function getInternalValue(value){var newValue=["","","","",""];return value&&(newValue[0]=String(value.getDate()).padStart(2,"0"),newValue[1]=String(value.getMonth()+1).padStart(2,"0"),newValue[2]=String(value.getFullYear()).padStart(4,"0"),newValue[3]=String(value.getHours()).padStart(2,"0"),newValue[4]=String(value.getMinutes()).padStart(2,"0")),newValue},DateInput=function DateInput(_ref){var enableTime=_ref.enableTime,shouldDisableDate=_ref.shouldDisableDate,disableFuture=_ref.disableFuture,disablePast=_ref.disablePast,value=_ref.value,onChange=_ref.onChange,_ref$calendarPlacemen=_ref.calendarPlacement,calendarPlacement=void 0===_ref$calendarPlacemen?"bottom-start":_ref$calendarPlacemen,style=_ref.style,className=_ref.className,doneButtonText=_ref.doneButtonText,_ref$closeOnChange=_ref.closeOnChange,closeOnChange=void 0===_ref$closeOnChange||_ref$closeOnChange,disablePickers=_ref.disablePickers,getRootRef=_ref.getRootRef,name=_ref.name,autoFocus=_ref.autoFocus,disabled=_ref.disabled,onClick=_ref.onClick,onFocus=_ref.onFocus,prevMonthAriaLabel=_ref.prevMonthAriaLabel,nextMonthAriaLabel=_ref.nextMonthAriaLabel,showNeighboringMonth=_ref.showNeighboringMonth,size=_ref.size,_ref$changeMonthAriaL=_ref.changeMonthAriaLabel,changeMonthAriaLabel=void 0===_ref$changeMonthAriaL?"Изменить месяц":_ref$changeMonthAriaL,_ref$changeYearAriaLa=_ref.changeYearAriaLabel,changeYearAriaLabel=void 0===_ref$changeYearAriaLa?"Изменить год":_ref$changeYearAriaLa,_ref$changeDayAriaLab=_ref.changeDayAriaLabel,changeDayAriaLabel=void 0===_ref$changeDayAriaLab?"Изменить день":_ref$changeDayAriaLab,_ref$changeHoursAriaL=_ref.changeHoursAriaLabel,changeHoursAriaLabel=void 0===_ref$changeHoursAriaL?"Изменить час":_ref$changeHoursAriaL,_ref$changeMinutesAri=_ref.changeMinutesAriaLabel,changeMinutesAriaLabel=void 0===_ref$changeMinutesAri?"Изменить минуту":_ref$changeMinutesAri,_ref$clearFieldAriaLa=_ref.clearFieldAriaLabel,clearFieldAriaLabel=void 0===_ref$clearFieldAriaLa?"Очистить поле":_ref$clearFieldAriaLa,_ref$showCalendarAria=_ref.showCalendarAriaLabel,showCalendarAriaLabel=void 0===_ref$showCalendarAria?"Показать календарь":_ref$showCalendarAria,viewDate=_ref.viewDate,onHeaderChange=_ref.onHeaderChange,onNextMonth=_ref.onNextMonth,onPrevMonth=_ref.onPrevMonth,prevMonthIcon=_ref.prevMonthIcon,nextMonthIcon=_ref.nextMonthIcon,_ref$disableCalendar=_ref.disableCalendar,disableCalendar=void 0!==_ref$disableCalendar&&_ref$disableCalendar,props=(0,objectWithoutProperties.Z)(_ref,_excluded),daysRef=react.useRef(null),monthsRef=react.useRef(null),yearsRef=react.useRef(null),hoursRef=react.useRef(null),minutesRef=react.useRef(null),maxElement=enableTime?4:2,onInternalValueChange=react.useCallback((function(internalValue){for(var i=0;i<=maxElement;i+=1)if(internalValue[i].length<elementsConfig(i).length)return;var formattedValue="".concat(internalValue[0],".").concat(internalValue[1],".").concat(internalValue[2]),mask="DD.MM.YYYY";enableTime&&(formattedValue+=" ".concat(internalValue[3],":").concat(internalValue[4]),mask+=" HH:mm"),(0,date.BD)(formattedValue,mask)&&(null==onChange||onChange((0,date.Qc)(formattedValue,mask,null!=value?value:new Date)))}),[enableTime,maxElement,onChange,value]),refs=react.useMemo((function(){return[daysRef,monthsRef,yearsRef,hoursRef,minutesRef]}),[daysRef,monthsRef,yearsRef,hoursRef,minutesRef]),_useDateInput=(0,useDateInput.S)({maxElement:maxElement,refs:refs,autoFocus:autoFocus,disabled:disabled,elementsConfig:elementsConfig,onChange:onChange,onInternalValueChange:onInternalValueChange,getInternalValue:getInternalValue,value:value}),rootRef=_useDateInput.rootRef,calendarRef=_useDateInput.calendarRef,open=_useDateInput.open,openCalendar=_useDateInput.openCalendar,closeCalendar=_useDateInput.closeCalendar,internalValue=_useDateInput.internalValue,handleKeyDown=_useDateInput.handleKeyDown,setFocusedElement=_useDateInput.setFocusedElement,handleFieldEnter=_useDateInput.handleFieldEnter,clear=_useDateInput.clear,removeFocusFromField=_useDateInput.removeFocusFromField,sizeY=(0,useAdaptivity.g)().sizeY,onCalendarChange=react.useCallback((function(value){null==onChange||onChange(value),closeOnChange&&!enableTime&&removeFocusFromField()}),[onChange,removeFocusFromField,closeOnChange,enableTime]);return react.createElement(FormField.W,(0,esm_extends.Z)({style:style,className:(0,es6.AK)(DateInput_module.Z.DateInput,(0,getSizeYClassName.d)(DateInput_module.Z.DateInput,sizeY),className),getRootRef:(0,utils.tt)(rootRef,getRootRef),after:value?react.createElement(IconButton.h,{hoverMode:"opacity","aria-label":clearFieldAriaLabel,onClick:clear},react.createElement(_16_clear.Z,null)):react.createElement(IconButton.h,{hoverMode:"opacity","aria-label":showCalendarAriaLabel,onClick:openCalendar},react.createElement(calendar_outline.Z,null)),disabled:disabled,onClick:(0,callMultiple.C)(handleFieldEnter,onClick),onFocus:(0,callMultiple.C)(handleFieldEnter,onFocus)},props),react.createElement("input",{type:"hidden",name:name,value:value?(0,date.WU)(value,enableTime?"DD.MM.YYYYTHH:mm":"DD.MM.YYYY"):""}),react.createElement("span",{className:DateInput_module.Z.DateInput__input,onKeyDown:handleKeyDown},react.createElement(InputLike.E,{length:2,getRootRef:daysRef,index:0,onElementSelect:setFocusedElement,value:internalValue[0],"aria-label":changeDayAriaLabel}),react.createElement(InputLikeDivider.q,null,"."),react.createElement(InputLike.E,{length:2,getRootRef:monthsRef,index:1,onElementSelect:setFocusedElement,value:internalValue[1],"aria-label":changeMonthAriaLabel}),react.createElement(InputLikeDivider.q,null,"."),react.createElement(InputLike.E,{length:4,getRootRef:yearsRef,index:2,onElementSelect:setFocusedElement,value:internalValue[2],"aria-label":changeYearAriaLabel}),enableTime&&react.createElement(react.Fragment,null,react.createElement(InputLikeDivider.q,{className:DateInput_module.Z["DateInput__input--time-divider"]}," "),react.createElement(InputLike.E,{length:2,getRootRef:hoursRef,index:3,onElementSelect:setFocusedElement,value:internalValue[3],"aria-label":changeHoursAriaLabel}),react.createElement(InputLikeDivider.q,null,":"),react.createElement(InputLike.E,{length:2,getRootRef:minutesRef,index:4,onElementSelect:setFocusedElement,value:internalValue[4],"aria-label":changeMinutesAriaLabel}))),open&&!disableCalendar&&react.createElement(Popper.r,{targetRef:rootRef,offsetDistance:8,placement:calendarPlacement},react.createElement(Calendar.f,{value:value,onChange:onCalendarChange,enableTime:enableTime,disablePast:disablePast,disableFuture:disableFuture,shouldDisableDate:shouldDisableDate,onClose:closeCalendar,getRootRef:calendarRef,doneButtonText:doneButtonText,disablePickers:disablePickers,changeHoursAriaLabel:changeHoursAriaLabel,changeMinutesAriaLabel:changeMinutesAriaLabel,prevMonthAriaLabel:prevMonthAriaLabel,nextMonthAriaLabel:nextMonthAriaLabel,changeMonthAriaLabel:changeMonthAriaLabel,changeYearAriaLabel:changeYearAriaLabel,changeDayAriaLabel:changeDayAriaLabel,showNeighboringMonth:showNeighboringMonth,size:size,viewDate:viewDate,onHeaderChange:onHeaderChange,onNextMonth:onNextMonth,onPrevMonth:onPrevMonth,prevMonthIcon:prevMonthIcon,nextMonthIcon:nextMonthIcon})))};try{DateInput.displayName="DateInput",DateInput.__docgenInfo={description:"",displayName:"DateInput",props:{calendarPlacement:{defaultValue:{value:"bottom-start"},description:"",name:"calendarPlacement",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom"'},{value:'"auto-start"'},{value:'"auto-end"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},closeOnChange:{defaultValue:{value:"true"},description:"",name:"closeOnChange",required:!1,type:{name:"boolean"}},clearFieldAriaLabel:{defaultValue:{value:"Очистить поле"},description:"",name:"clearFieldAriaLabel",required:!1,type:{name:"string"}},showCalendarAriaLabel:{defaultValue:{value:"Показать календарь"},description:"",name:"showCalendarAriaLabel",required:!1,type:{name:"string"}},disableCalendar:{defaultValue:{value:"false"},description:"",name:"disableCalendar",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Date"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value?: Date) => void)"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'}]}},shouldDisableDate:{defaultValue:null,description:"",name:"shouldDisableDate",required:!1,type:{name:"((value: Date) => boolean)"}},disablePast:{defaultValue:null,description:"",name:"disablePast",required:!1,type:{name:"boolean"}},disableFuture:{defaultValue:null,description:"",name:"disableFuture",required:!1,type:{name:"boolean"}},weekStartsOn:{defaultValue:null,description:"",name:"weekStartsOn",required:!1,type:{name:"enum",value:[{value:"0"},{value:"2"},{value:"1"},{value:"3"},{value:"5"},{value:"4"},{value:"6"}]}},disablePickers:{defaultValue:null,description:"",name:"disablePickers",required:!1,type:{name:"boolean"}},prevMonthAriaLabel:{defaultValue:null,description:"",name:"prevMonthAriaLabel",required:!1,type:{name:"string"}},nextMonthAriaLabel:{defaultValue:null,description:"",name:"nextMonthAriaLabel",required:!1,type:{name:"string"}},changeMonthAriaLabel:{defaultValue:{value:"Изменить месяц"},description:"",name:"changeMonthAriaLabel",required:!1,type:{name:"string"}},changeYearAriaLabel:{defaultValue:{value:"Изменить год"},description:"",name:"changeYearAriaLabel",required:!1,type:{name:"string"}},changeDayAriaLabel:{defaultValue:{value:"Изменить день"},description:"",name:"changeDayAriaLabel",required:!1,type:{name:"string"}},prevMonthIcon:{defaultValue:null,description:"",name:"prevMonthIcon",required:!1,type:{name:"ReactNode"}},nextMonthIcon:{defaultValue:null,description:"",name:"nextMonthIcon",required:!1,type:{name:"ReactNode"}},enableTime:{defaultValue:null,description:"",name:"enableTime",required:!1,type:{name:"boolean"}},doneButtonText:{defaultValue:null,description:"",name:"doneButtonText",required:!1,type:{name:"string"}},changeHoursAriaLabel:{defaultValue:{value:"Изменить час"},description:"",name:"changeHoursAriaLabel",required:!1,type:{name:"string"}},changeMinutesAriaLabel:{defaultValue:{value:"Изменить минуту"},description:"",name:"changeMinutesAriaLabel",required:!1,type:{name:"string"}},showNeighboringMonth:{defaultValue:null,description:"",name:"showNeighboringMonth",required:!1,type:{name:"boolean"}},viewDate:{defaultValue:null,description:"Дата отображаемого месяца.\nПри использовании обновление даты должно происходить вне компонента.",name:"viewDate",required:!1,type:{name:"Date"}},onHeaderChange:{defaultValue:null,description:"Изменение даты в шапке календаря.",name:"onHeaderChange",required:!1,type:{name:"((value: Date) => void)"}},onNextMonth:{defaultValue:null,description:"Нажатие на кнопку переключения на следующий месяц.",name:"onNextMonth",required:!1,type:{name:"(() => void)"}},onPrevMonth:{defaultValue:null,description:"Нажатие на кнопку переключения на предыдущий месяц.",name:"onPrevMonth",required:!1,type:{name:"(() => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"after",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"plain"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateInput/DateInput.tsx#DateInput"]={docgenInfo:DateInput.__docgenInfo,name:"DateInput",path:"src/components/DateInput/DateInput.tsx#DateInput"})}catch(__react_docgen_typescript_loader_error){}var constants=__webpack_require__("./src/storybook/constants.ts"),helpers=__webpack_require__("./src/storybook/helpers.ts"),DateInput_stories_excluded=["value"],DateInput_stories={title:"Forms/DateInput",component:DateInput,parameters:(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({},constants.tW),(0,helpers.c)("Forms")),constants.nB),argTypes:{value:{control:{type:"date"}}}},Playground=function Template(_ref){var value=_ref.value,args=(0,objectWithoutProperties.Z)(_ref,DateInput_stories_excluded),parsedValue=value?new Date(value):value;return react.createElement(DateInput,(0,esm_extends.Z)({value:parsedValue},args))}.bind({});Playground.args={},Playground.parameters=(0,objectSpread2.Z)({storySource:{source:"({ value, ...args }) => {\n  const parsedValue = value ? new Date(value) : value;\n\n  return <DateInput value={parsedValue} {...args} />;\n}"}},Playground.parameters);var __namedExportsOrder=["Playground"]},"./src/components/Calendar/Calendar.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{f:function(){return Calendar}});var esm_extends=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("../../node_modules/react/index.js"),date=__webpack_require__("./src/lib/date.ts"),CalendarHeader=__webpack_require__("./src/components/CalendarHeader/CalendarHeader.tsx"),CalendarDays=__webpack_require__("./src/components/CalendarDays/CalendarDays.tsx"),CustomSelect=__webpack_require__("./src/components/CustomSelect/CustomSelect.tsx"),Button=__webpack_require__("./src/components/Button/Button.tsx"),constants=__webpack_require__("./src/lib/adaptivity/constants.ts"),AdaptivityProvider=__webpack_require__("./src/components/AdaptivityProvider/AdaptivityProvider.tsx"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),CalendarTime_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[10].use[2]!./src/components/CalendarTime/CalendarTime.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(CalendarTime_module.Z,options);for(var CalendarTime_CalendarTime_module=CalendarTime_module.Z&&CalendarTime_module.Z.locals?CalendarTime_module.Z.locals:void 0,hours=[],i=0;i<24;i+=1)hours.push({value:i,label:String(i).padStart(2,"0")});for(var minutes=[],_i=0;_i<60;_i+=1)minutes.push({value:_i,label:String(_i).padStart(2,"0")});var CalendarTime=function CalendarTime(_ref){var value=_ref.value,_ref$doneButtonText=_ref.doneButtonText,doneButtonText=void 0===_ref$doneButtonText?"Готово":_ref$doneButtonText,onChange=_ref.onChange,onClose=_ref.onClose,_ref$changeHoursAriaL=_ref.changeHoursAriaLabel,changeHoursAriaLabel=void 0===_ref$changeHoursAriaL?"Изменить час":_ref$changeHoursAriaL,_ref$changeMinutesAri=_ref.changeMinutesAriaLabel,changeMinutesAriaLabel=void 0===_ref$changeMinutesAri?"Изменить минуту":_ref$changeMinutesAri,onHoursChange=react.useCallback((function(event){return null==onChange?void 0:onChange((0,date.Bq)(value,Number(event.target.value)))}),[onChange,value]),onMinutesChange=react.useCallback((function(event){return null==onChange?void 0:onChange((0,date.HZ)(value,Number(event.target.value)))}),[onChange,value]);return react.createElement("div",{className:CalendarTime_CalendarTime_module.CalendarTime},react.createElement("div",{className:CalendarTime_CalendarTime_module.CalendarTime__picker},react.createElement(AdaptivityProvider.x,{sizeY:constants.n$.COMPACT},react.createElement(CustomSelect.A,{value:value.getHours(),options:hours,onChange:onHoursChange,forceDropdownPortal:!1,"aria-label":changeHoursAriaLabel}))),react.createElement("div",{className:CalendarTime_CalendarTime_module.CalendarTime__divider},":"),react.createElement("div",{className:CalendarTime_CalendarTime_module.CalendarTime__picker},react.createElement(AdaptivityProvider.x,{sizeY:constants.n$.COMPACT},react.createElement(CustomSelect.A,{value:value.getMinutes(),options:minutes,onChange:onMinutesChange,forceDropdownPortal:!1,"aria-label":changeMinutesAriaLabel}))),react.createElement("div",{className:CalendarTime_CalendarTime_module.CalendarTime__button},react.createElement(AdaptivityProvider.x,{sizeY:constants.n$.COMPACT},react.createElement(Button.z,{mode:"secondary",onClick:onClose,size:"l","aria-label":doneButtonText},doneButtonText))))};try{CalendarTime.displayName="CalendarTime",CalendarTime.__docgenInfo={description:"",displayName:"CalendarTime",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"Date"}},doneButtonText:{defaultValue:{value:"Готово"},description:"",name:"doneButtonText",required:!1,type:{name:"string"}},changeHoursAriaLabel:{defaultValue:{value:"Изменить час"},description:"",name:"changeHoursAriaLabel",required:!1,type:{name:"string"}},changeMinutesAriaLabel:{defaultValue:{value:"Изменить минуту"},description:"",name:"changeMinutesAriaLabel",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: Date) => void)"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CalendarTime/CalendarTime.tsx#CalendarTime"]={docgenInfo:CalendarTime.__docgenInfo,name:"CalendarTime",path:"src/components/CalendarTime/CalendarTime.tsx#CalendarTime"})}catch(__react_docgen_typescript_loader_error){}var useIsomorphicLayoutEffect=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts"),calendar=__webpack_require__("./src/lib/calendar.ts"),useCalendar=__webpack_require__("./src/hooks/useCalendar.ts"),es6=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),warnOnce=__webpack_require__("./src/lib/warnOnce.ts"),Calendar_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[10].use[2]!./src/components/Calendar/Calendar.module.css"),Calendar_module_options={attributes:{class:"vkui-style"}};Calendar_module_options.setAttributes=setAttributesWithAttributesAndNonce_default(),Calendar_module_options.insert=insertBySelector_default().bind(null,"head"),Calendar_module_options.domAPI=singletonStyleDomAPI_default(),Calendar_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Calendar_module.Z,Calendar_module_options);var Calendar_Calendar_module=Calendar_module.Z&&Calendar_module.Z.locals?Calendar_module.Z.locals:void 0,_excluded=["value","onChange","disablePast","disableFuture","shouldDisableDate","onClose","enableTime","doneButtonText","weekStartsOn","getRootRef","disablePickers","changeHoursAriaLabel","changeMinutesAriaLabel","prevMonthAriaLabel","nextMonthAriaLabel","changeMonthAriaLabel","changeYearAriaLabel","showNeighboringMonth","changeDayAriaLabel","size","viewDate","onHeaderChange","onNextMonth","onPrevMonth","prevMonthIcon","nextMonthIcon","prevMonthProps","nextMonthProps","dayProps","className","listenDayChangesForUpdate"],Calendar=((0,warnOnce.O)("Calendar"),function Calendar(_ref){var value=_ref.value,onChange=_ref.onChange,disablePast=_ref.disablePast,disableFuture=_ref.disableFuture,shouldDisableDate=_ref.shouldDisableDate,onClose=_ref.onClose,_ref$enableTime=_ref.enableTime,enableTime=void 0!==_ref$enableTime&&_ref$enableTime,doneButtonText=_ref.doneButtonText,_ref$weekStartsOn=_ref.weekStartsOn,weekStartsOn=void 0===_ref$weekStartsOn?1:_ref$weekStartsOn,getRootRef=_ref.getRootRef,disablePickers=_ref.disablePickers,changeHoursAriaLabel=_ref.changeHoursAriaLabel,changeMinutesAriaLabel=_ref.changeMinutesAriaLabel,prevMonthAriaLabel=_ref.prevMonthAriaLabel,nextMonthAriaLabel=_ref.nextMonthAriaLabel,changeMonthAriaLabel=_ref.changeMonthAriaLabel,changeYearAriaLabel=_ref.changeYearAriaLabel,showNeighboringMonth=_ref.showNeighboringMonth,_ref$changeDayAriaLab=_ref.changeDayAriaLabel,changeDayAriaLabel=void 0===_ref$changeDayAriaLab?"Изменить день":_ref$changeDayAriaLab,_ref$size=_ref.size,size=void 0===_ref$size?"m":_ref$size,externalViewDate=_ref.viewDate,onHeaderChange=_ref.onHeaderChange,onNextMonth=_ref.onNextMonth,onPrevMonth=_ref.onPrevMonth,prevMonthIcon=_ref.prevMonthIcon,nextMonthIcon=_ref.nextMonthIcon,prevMonthProps=_ref.prevMonthProps,nextMonthProps=_ref.nextMonthProps,dayProps=_ref.dayProps,className=_ref.className,listenDayChangesForUpdate=_ref.listenDayChangesForUpdate,props=(0,objectWithoutProperties.Z)(_ref,_excluded),_useCalendar=(0,useCalendar.G)({value:value,disableFuture:disableFuture,disablePast:disablePast,shouldDisableDate:shouldDisableDate,onHeaderChange:onHeaderChange,onNextMonth:onNextMonth,onPrevMonth:onPrevMonth}),viewDate=_useCalendar.viewDate,setViewDate=_useCalendar.setViewDate,setPrevMonth=_useCalendar.setPrevMonth,setNextMonth=_useCalendar.setNextMonth,focusedDay=_useCalendar.focusedDay,setFocusedDay=_useCalendar.setFocusedDay,isDayFocused=_useCalendar.isDayFocused,isDayDisabled=_useCalendar.isDayDisabled,resetSelectedDay=_useCalendar.resetSelectedDay;(0,useIsomorphicLayoutEffect.L)((function(){value&&setViewDate(value)}),[value]);var handleKeyDown=react.useCallback((function(event){["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(event.key)&&event.preventDefault();var newFocusedDay=(0,calendar.it)(null!=focusedDay?focusedDay:value,event.key);newFocusedDay&&!(0,date.xj)(newFocusedDay,viewDate)&&setViewDate(newFocusedDay),setFocusedDay(newFocusedDay)}),[focusedDay,setFocusedDay,setViewDate,value,viewDate]),onDayChange=react.useCallback((function(date){null==onChange||onChange((0,calendar.VB)(date,value))}),[value,onChange]),isDayActive=react.useCallback((function(day){return Boolean(value&&(0,date.KC)(day,value))}),[value]);return react.createElement("div",(0,esm_extends.Z)({},props,{ref:getRootRef,className:(0,es6.AK)(Calendar_Calendar_module.Calendar,Calendar_Calendar_module["Calendar--size-".concat(size)],className)}),react.createElement(CalendarHeader.v,{viewDate:externalViewDate||viewDate,onChange:setViewDate,onNextMonth:setNextMonth,onPrevMonth:setPrevMonth,disablePickers:disablePickers||"s"===size,className:Calendar_Calendar_module.Calendar__header,prevMonthAriaLabel:prevMonthAriaLabel,nextMonthAriaLabel:nextMonthAriaLabel,changeMonthAriaLabel:changeMonthAriaLabel,changeYearAriaLabel:changeYearAriaLabel,prevMonthIcon:prevMonthIcon,nextMonthIcon:nextMonthIcon,prevMonthProps:prevMonthProps,nextMonthProps:nextMonthProps}),react.createElement(CalendarDays.E,{viewDate:externalViewDate||viewDate,value:value,weekStartsOn:weekStartsOn,isDayFocused:isDayFocused,tabIndex:0,"aria-label":changeDayAriaLabel,onKeyDown:handleKeyDown,onDayChange:onDayChange,isDayActive:isDayActive,isDaySelectionStart:calendar.Dk,isDaySelectionEnd:calendar.Rw,isDayDisabled:isDayDisabled,onBlur:resetSelectedDay,showNeighboringMonth:showNeighboringMonth,size:size,dayProps:dayProps,listenDayChangesForUpdate:listenDayChangesForUpdate}),enableTime&&value&&"s"!==size&&react.createElement("div",{className:Calendar_Calendar_module.Calendar__time},react.createElement(CalendarTime,{value:value,onChange:onChange,onClose:onClose,doneButtonText:doneButtonText,changeHoursAriaLabel:changeHoursAriaLabel,changeMinutesAriaLabel:changeMinutesAriaLabel})))});try{Calendar.displayName="Calendar",Calendar.__docgenInfo={description:"",displayName:"Calendar",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Date"}},disablePast:{defaultValue:null,description:"",name:"disablePast",required:!1,type:{name:"boolean"}},disableFuture:{defaultValue:null,description:"",name:"disableFuture",required:!1,type:{name:"boolean"}},enableTime:{defaultValue:{value:"false"},description:"",name:"enableTime",required:!1,type:{name:"boolean"}},disablePickers:{defaultValue:null,description:"",name:"disablePickers",required:!1,type:{name:"boolean"}},doneButtonText:{defaultValue:null,description:"",name:"doneButtonText",required:!1,type:{name:"string"}},changeDayAriaLabel:{defaultValue:{value:"Изменить день"},description:"",name:"changeDayAriaLabel",required:!1,type:{name:"string"}},weekStartsOn:{defaultValue:{value:"1"},description:"",name:"weekStartsOn",required:!1,type:{name:"enum",value:[{value:"0"},{value:"2"},{value:"1"},{value:"3"},{value:"5"},{value:"4"},{value:"6"}]}},showNeighboringMonth:{defaultValue:null,description:"",name:"showNeighboringMonth",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"m"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value?: Date) => void)"}},shouldDisableDate:{defaultValue:null,description:"",name:"shouldDisableDate",required:!1,type:{name:"((value: Date) => boolean)"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},viewDate:{defaultValue:null,description:"Дата отображаемого месяца.\nПри использовании обновление даты должно происходить вне компонента.",name:"viewDate",required:!1,type:{name:"Date"}},onHeaderChange:{defaultValue:null,description:"Изменение даты в шапке календаря.",name:"onHeaderChange",required:!1,type:{name:"((value: Date) => void)"}},changeHoursAriaLabel:{defaultValue:null,description:"",name:"changeHoursAriaLabel",required:!1,type:{name:"string"}},changeMinutesAriaLabel:{defaultValue:null,description:"",name:"changeMinutesAriaLabel",required:!1,type:{name:"string"}},prevMonthAriaLabel:{defaultValue:null,description:"",name:"prevMonthAriaLabel",required:!1,type:{name:"string"}},nextMonthAriaLabel:{defaultValue:null,description:"",name:"nextMonthAriaLabel",required:!1,type:{name:"string"}},changeMonthAriaLabel:{defaultValue:null,description:"",name:"changeMonthAriaLabel",required:!1,type:{name:"string"}},changeYearAriaLabel:{defaultValue:null,description:"",name:"changeYearAriaLabel",required:!1,type:{name:"string"}},prevMonthIcon:{defaultValue:null,description:"",name:"prevMonthIcon",required:!1,type:{name:"ReactNode"}},nextMonthIcon:{defaultValue:null,description:"",name:"nextMonthIcon",required:!1,type:{name:"ReactNode"}},onNextMonth:{defaultValue:null,description:"Нажатие на кнопку переключения на следующий месяц.",name:"onNextMonth",required:!1,type:{name:"(() => void)"}},onPrevMonth:{defaultValue:null,description:"Нажатие на кнопку переключения на предыдущий месяц.",name:"onPrevMonth",required:!1,type:{name:"(() => void)"}},prevMonthProps:{defaultValue:null,description:"",name:"prevMonthProps",required:!1,type:{name:"ArrowMonthProps"}},nextMonthProps:{defaultValue:null,description:"",name:"nextMonthProps",required:!1,type:{name:"ArrowMonthProps"}},listenDayChangesForUpdate:{defaultValue:null,description:"",name:"listenDayChangesForUpdate",required:!1,type:{name:"boolean"}},dayProps:{defaultValue:null,description:"",name:"dayProps",required:!1,type:{name:"CalendarDayElementProps"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Calendar/Calendar.tsx#Calendar"]={docgenInfo:Calendar.__docgenInfo,name:"Calendar",path:"src/components/Calendar/Calendar.tsx#Calendar"})}catch(__react_docgen_typescript_loader_error){}},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[10].use[2]!./src/components/Calendar/Calendar.module.css":function(module,__webpack_exports__,__webpack_require__){var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".vkuiCalendar{background:#fff;background:var(--vkui--color_background_modal);border:.5px solid #d7d8d9;border:.5px solid var(--vkui--color_separator_primary);border-radius:8px;box-shadow:0 0 2px rgba(0,0,0,.03),0 2px 2px rgba(0,0,0,.06);box-shadow:var(--vkui--elevation1);box-sizing:border-box;display:flex;flex-direction:column;padding:12px;width:305px}.vkuiCalendar__time{border-top:1px solid #d7d8d9;border-top:1px solid var(--vkui--color_separator_primary);margin:12px -12px 0;padding:12px 12px 0}.vkuiCalendar__header{margin-bottom:4px}.vkuiCalendar--size-s{padding:8px;width:220px}.vkuiCalendar--size-s .vkuiCalendar__header{margin-bottom:0}.vkuiCalendar--size-m{}","",{version:3,sources:["webpack://./src/components/Calendar/Calendar.module.css"],names:[],mappings:"AAAA,cAGE,eAA+C,CAA/C,8CAA+C,CAC/C,yBAAwD,CAAxD,sDAAwD,CAGxD,iBAAkB,CADlB,4DAAmC,CAAnC,kCAAmC,CADnC,qBAAsB,CAJtB,YAAa,CACb,qBAAsB,CAOtB,YAAa,CADb,WAEF,CAEA,oBACE,4BAA0D,CAA1D,yDAA0D,CAC1D,mBAAoB,CACpB,mBACF,CAEA,sBACE,iBACF,CAEA,sBAEE,WAAY,CADZ,WAEF,CAEA,4CACE,eACF,CAEA,sBAEA",sourcesContent:[".Calendar {\n  display: flex;\n  flex-direction: column;\n  background: var(--vkui--color_background_modal);\n  border: 0.5px solid var(--vkui--color_separator_primary);\n  box-sizing: border-box;\n  box-shadow: var(--vkui--elevation1);\n  border-radius: 8px;\n  width: 305px;\n  padding: 12px;\n}\n\n.Calendar__time {\n  border-top: 1px solid var(--vkui--color_separator_primary);\n  margin: 12px -12px 0;\n  padding: 12px 12px 0;\n}\n\n.Calendar__header {\n  margin-bottom: 4px;\n}\n\n.Calendar--size-s {\n  width: 220px;\n  padding: 8px;\n}\n\n.Calendar--size-s .Calendar__header {\n  margin-bottom: 0;\n}\n\n.Calendar--size-m {\n  /* Пустой класс для CSS Modules (см. CONTRIBUTING.md)  */\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={Calendar:"vkuiCalendar",Calendar__time:"vkuiCalendar__time",Calendar__header:"vkuiCalendar__header","Calendar--size-s":"vkuiCalendar--size-s","Calendar--size-m":"vkuiCalendar--size-m"},__webpack_exports__.Z=___CSS_LOADER_EXPORT___},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[10].use[2]!./src/components/CalendarTime/CalendarTime.module.css":function(module,__webpack_exports__,__webpack_require__){var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".vkuiCalendarTime{align-items:center;display:flex}.vkuiCalendarTime__picker{width:77px}.vkuiCalendarTime__divider{color:#000;color:var(--vkui--color_text_primary);font-family:VK Sans Text,-apple-system,system-ui,Helvetica Neue,Roboto,sans-serif;font-family:var(--vkui--font_family_base);margin-left:6px;margin-right:6px}.vkuiCalendarTime__button{margin-left:auto}","",{version:3,sources:["webpack://./src/components/CalendarTime/CalendarTime.module.css"],names:[],mappings:"AAAA,kBAEE,kBAAmB,CADnB,YAEF,CAEA,0BACE,UACF,CAEA,2BAGE,UAAsC,CAAtC,qCAAsC,CACtC,iFAA0C,CAA1C,yCAA0C,CAH1C,eAAgB,CAChB,gBAGF,CAEA,0BACE,gBACF",sourcesContent:[".CalendarTime {\n  display: flex;\n  align-items: center;\n}\n\n.CalendarTime__picker {\n  width: 77px;\n}\n\n.CalendarTime__divider {\n  margin-left: 6px;\n  margin-right: 6px;\n  color: var(--vkui--color_text_primary);\n  font-family: var(--vkui--font_family_base);\n}\n\n.CalendarTime__button {\n  margin-left: auto;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={CalendarTime:"vkuiCalendarTime",CalendarTime__picker:"vkuiCalendarTime__picker",CalendarTime__divider:"vkuiCalendarTime__divider",CalendarTime__button:"vkuiCalendarTime__button"},__webpack_exports__.Z=___CSS_LOADER_EXPORT___}}]);